
(function() {
    function $e(U, Z) {
        function ke() {
            U() ? Z() : requestAnimationFrame(ke)
        }
        ke()
    }
    $e(()=>!!window.requireLazy, ()=>{
        $e(()=>!!window.download_albums_for_facebook_vendors, ()=>{
            window.requireLazy(["react", "__debug"], Nt)
        }
        )
    }
    );
    function Nt() {
        const U = Ot();
        if (U) {
            const Z = window.require("react")
              , ke = window.require(U)
              , Pt = Bt();
            (function(n, p, w, M, $, J) {
                "use strict";
                const Ke = "ESUIT | Photos Downloader for Facebook™"
                  , te = "download-albums-for-facebook"
                  , Lt = "djlgfdiljlmbcfimhkeenolnndblfmoo"
                  , jt = "https://chromewebstore.google.com/detail/esuit-photos-downloader-f/djlgfdiljlmbcfimhkeenolnndblfmoo"
                  , We = "https://www.facebook.com/esuitdev/posts/pfbid0RLpmnEn5DrjXRRRusRgSnkfBNRAdjsvjxSSzEi3iVP4dVzRsCtRug11wQDDuL5Bzl"
                  , Ye = {
                    "download-albums-for-instagram": {
                        projectId: "download-albums-for-instagram",
                        chromeExtId: "adighedbfmnpjcjlloooichmbjdefane",
                        name: "Photos Downloader for Instagram™",
                        link: "https://chromewebstore.google.com/detail/esuit-photos-downloader-f/adighedbfmnpjcjlloooichmbjdefane",
                        description: "This extension allows you to bulk-download all photos from Albums or Reels.",
                        ytb: "1HVKtih9HBU",
                        type: "instagram",
                        checkout: {
                            basic: {
                                priceId: "price_1NvXzsHZagaT3kU5JhWy2SpQ",
                                priceCount: "4.98",
                                productId: "prod_OizzgK3xJLDcx6",
                                oneTimePriceCount: "98.98",
                                oneTimePriceId: "price_1NvXzsHZagaT3kU5mFhQeOtV"
                            },
                            premium: void 0
                        }
                    },
                    "export-comments-for-facebook": {
                        projectId: "export-comments-for-facebook",
                        chromeExtId: "flhbkccofabjoiphncbedainkoipgggf",
                        name: "Comments Exporter for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-comments-exporter-f/flhbkccofabjoiphncbedainkoipgggf",
                        description: "Extract the Essence of Facebook Conversations with Ease: Export Nested Comments like Never Before!",
                        ytb: "cwI3DczogkY",
                        type: "facebook",
                        checkout: {
                            basic: {
                                priceId: "price_1NbvKWHZagaT3kU5ZGrT2QAh",
                                priceCount: "4.98",
                                productId: "prod_OOimd1E3ZnqB2b",
                                oneTimePriceCount: "98.98",
                                oneTimePriceId: "price_1NbvKXHZagaT3kU53PQE0QqG"
                            },
                            premium: void 0
                        }
                    },
                    "download-albums-for-facebook": {
                        projectId: "download-albums-for-facebook",
                        chromeExtId: "djlgfdiljlmbcfimhkeenolnndblfmoo",
                        name: "Photos Downloader for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-photos-downloader-f/djlgfdiljlmbcfimhkeenolnndblfmoo",
                        description: "This extension allows you to bulk-download all photos from Albums or a single Facebook collection.",
                        ytb: "CHJO63olH2c",
                        type: "facebook",
                        checkout: {
                            basic: {
                                priceId: "price_1Nx65qHZagaT3kU5AWNsxhog",
                                priceCount: "2.89",
                                productId: "prod_OjkqF8Mo4RZpEn",
                                oneTimePriceCount: "46.89",
                                oneTimePriceId: "price_1Nx66hHZagaT3kU5W38ZiWf3"
                            },
                            premium: {
                                priceId: "price_1NZxsrHZagaT3kU5DZSjdrZo",
                                priceCount: "4.98",
                                productId: "prod_OMhH2W7SxeuSqH",
                                oneTimePriceCount: "98.98",
                                oneTimePriceId: "price_1NZxuAHZagaT3kU5HtV5PQQJ"
                            }
                        }
                    },
                    "export-posts-for-facebook": {
                        projectId: "export-posts-for-facebook",
                        chromeExtId: "lefjomichhananfjdmmnghjpcjeggdag",
                        name: "Posts Exporter for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-posts-exporter-for/lefjomichhananfjdmmnghjpcjeggdag",
                        description: "Export posts for facebook, This extension allows you to bulk-export all posts from ANY one timeline, pages and groups.",
                        ytb: "7rdcGp3jwS0",
                        type: "facebook",
                        checkout: {
                            basic: {
                                priceId: "price_1NnTiOHZagaT3kU5nnpGxQim",
                                priceCount: "4.98",
                                productId: "prod_Oaf2qx4pNeR4oe",
                                oneTimePriceCount: "98.98",
                                oneTimePriceId: "price_1NnTkGHZagaT3kU52UFSf6bv"
                            },
                            premium: {
                                priceId: "price_1NnTo0HZagaT3kU5byhTQnYa",
                                priceCount: "9.89",
                                productId: "prod_Oaf8WA6xYYuQvm",
                                oneTimePriceCount: "197.80",
                                oneTimePriceId: "price_1NnTpYHZagaT3kU5FRB1AtHb"
                            }
                        }
                    },
                    "show-all-comments-for-facebook": {
                        projectId: "show-all-comments-for-facebook",
                        chromeExtId: "mnjafifjpcbjjmpcobmdhdjlbhgooooo",
                        name: "Anti Popup Comments for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-anti-popup-comments/mnjafifjpcbjjmpcobmdhdjlbhgooooo",
                        description: "Now you can view comments below or enable automatic comment loading.",
                        ytb: "8f18CConUd8",
                        type: "facebook",
                        checkout: {
                            basic: void 0,
                            premium: void 0
                        }
                    },
                    "unseen-for-facebook": {
                        projectId: "unseen-for-facebook",
                        chromeExtId: "fgmiepijfchkhchobiopcemoajoedkkm",
                        name: "Un Seen for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-un-seen-for-faceboo/fgmiepijfchkhchobiopcemoajoedkkm",
                        description: "Guard Your Privacy on Facebook and Messenger with Ease",
                        ytb: "ltEU8adox6A",
                        type: "facebook",
                        checkout: {
                            basic: void 0,
                            premium: void 0
                        }
                    },
                    "download-videos-for-facebook": {
                        projectId: "download-videos-for-facebook",
                        chromeExtId: "hanpacajollgnchahjfoemocppmollgf",
                        name: "Video Downloader for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-video-downloader-fo/hanpacajollgnchahjfoemocppmollgf",
                        description: "Unleash the Power of Facebook Videos with a Single Click! Download Videos Anytime, Anywhere, Without Limits!",
                        ytb: "mX51pBN0cmQ",
                        type: "facebook",
                        checkout: {
                            basic: {
                                priceId: "price_1Nq1HFHZagaT3kU5aR6qzes7",
                                priceCount: "1.98",
                                productId: "prod_OdHqLftBtMPEm1",
                                oneTimePriceCount: "38.98",
                                oneTimePriceId: "price_1Nq1I6HZagaT3kU5iovELhTU"
                            },
                            premium: void 0
                        }
                    },
                    "display-id-for-instagram": {
                        projectId: "display-id-for-instagram",
                        chromeExtId: "idkijafaliapkoelkdelcdekkcdhdobk",
                        name: "ID Finder for Instagram™",
                        link: "https://chromewebstore.google.com/detail/esuit-id-finder-for-insta/idkijafaliapkoelkdelcdekkcdhdobk",
                        description: "2023  Easiest way to find user ID on Instagram",
                        type: "instagram",
                        checkout: {
                            basic: void 0,
                            premium: void 0
                        }
                    },
                    "display-id-for-facebook": {
                        projectId: "display-id-for-facebook",
                        chromeExtId: "ogiifpbodbnchehbcpknaeacmgmfclgh",
                        name: "ID Finder for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-id-finder-for-faceb/ogiifpbodbnchehbcpknaeacmgmfclgh",
                        description: "2023  Easiest way to find user ID on Facebook",
                        type: "facebook",
                        checkout: {
                            basic: void 0,
                            premium: void 0
                        }
                    },
                    "export-reactions-for-facebook": {
                        projectId: "export-reactions-for-facebook",
                        chromeExtId: "feafoiigjkhhbnlabhkgelcomajccmgb",
                        name: "Reactions Exporter for Facebook™",
                        link: "https://chrome.google.com/webstore/detail/export-reactions-for-face/feafoiigjkhhbnlabhkgelcomajccmgb?hl=en&authuser=0",
                        description: "Easiest way to Export Reactions from Facebook to Google Sheet. You can easily analyze your Post engagement.",
                        ytb: "YakH-bPqU2E",
                        type: "facebook",
                        checkout: {
                            basic: {
                                priceId: "price_1OJ0nGHZagaT3kU5oL4D6I7m",
                                priceCount: "4.98",
                                productId: "prod_P7FHFGoxvNA61J",
                                oneTimePriceCount: "88.98",
                                oneTimePriceId: "price_1OJ0oZHZagaT3kU5SMvYfAID"
                            },
                            premium: void 0
                        }
                    },
                    "remove-reels-for-facebook": {
                        projectId: "remove-reels-for-facebook",
                        chromeExtId: "jkbklfkombochacjoeagggbiohipcbaj",
                        name: "AD Blocker for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-ad-blocker-for-face/jkbklfkombochacjoeagggbiohipcbaj",
                        description: "Remove Reels, ads and Remove Suggested for You on Facebook",
                        ytb: "1moqfjoHsZo",
                        type: "facebook",
                        checkout: {
                            basic: {
                                priceId: "price_1OJc2IHZagaT3kU58ypng4GO",
                                priceCount: "1.98",
                                productId: "prod_OKvOwIaipRK9ZW",
                                oneTimePriceCount: "19.98",
                                oneTimePriceId: "price_1OJc1uHZagaT3kU5bsHuc4lA"
                            },
                            premium: void 0
                        }
                    },
                    "bulk-videos-downloader-for-facebook": {
                        projectId: "bulk-videos-downloader-for-facebook",
                        chromeExtId: "bdoijmcmedjehajfdfcipjpjlcckkmce",
                        name: "Bulk Videos Downloader for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-bulk-videos-downloa/bdoijmcmedjehajfdfcipjpjlcckkmce",
                        description: "Bulk videos downloader for Facebook, supports reels and videos",
                        type: "facebook",
                        checkout: {
                            basic: void 0,
                            premium: void 0
                        }
                    },
                    "group-members-extractor-for-facebook": {
                        projectId: "group-members-extractor-for-facebook",
                        chromeExtId: "mpfndbkbcmbacdjmphhfapdmjgpfkjmg",
                        name: "Group Members Extractor for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-group-members-extra/mpfndbkbcmbacdjmphhfapdmjgpfkjmg",
                        description: "2023 Extract the Essence of Facebook Conversations with Ease: Export Group Members like Never Before!",
                        type: "facebook",
                        ytb: "mXZYKaIgPs8",
                        checkout: {
                            basic: {
                                priceId: "price_1O8NZdHZagaT3kU5fCH4sCO9",
                                priceCount: "4.89",
                                productId: "prod_OwG5s97G8cd1Dd",
                                oneTimePriceCount: "98.89",
                                oneTimePriceId: "price_1O8NZdHZagaT3kU5VlXM9MKr"
                            },
                            premium: void 0
                        }
                    },
                    "delete-my-activity-for-facebook": {
                        projectId: "delete-my-activity-for-facebook",
                        chromeExtId: "pehigcimajndnpmoeocbhlhljodmlbgb",
                        name: "Delete My Activity for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-delete-my-activity/pehigcimajndnpmoeocbhlhljodmlbgb",
                        description: "2023 Delete Facebook™ Activity - Posts, Comments, Messages, Photos, Videos in Bulk",
                        type: "facebook",
                        ytb: "Dbd8KXBhhaA",
                        checkout: {
                            basic: {
                                priceId: "price_1OBzstHZagaT3kU5vN0m2aUi",
                                priceCount: "7.89",
                                productId: "prod_OzzsvGNqlv1uWK",
                                oneTimePriceCount: "34.88",
                                oneTimePriceId: "price_1OBzstHZagaT3kU5LwyBVTqg"
                            },
                            premium: void 0
                        }
                    },
                    "mass-friends-remover-for-facebook": {
                        projectId: "mass-friends-remover-for-facebook",
                        chromeExtId: "cnppejfpebpoidmfihgplhmfpbhfjbne",
                        name: "Mass Friends Remover for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-mass-friends-remove/cnppejfpebpoidmfihgplhmfpbhfjbne",
                        description: "Quickly clean up your Facebook friend list with 'Mass Friends Remover', sorting and bulk deleting by gender or activity.",
                        type: "facebook",
                        ytb: "f7bswwsz39c",
                        checkout: {
                            basic: {
                                priceId: "price_1OGMlVHZagaT3kU5ak7ls80Y",
                                priceCount: "2.98",
                                productId: "prod_P4VnmhkkcddbW7",
                                oneTimePriceCount: "9.98",
                                oneTimePriceId: "price_1OGMnAHZagaT3kU5lErA4uUZ"
                            },
                            premium: void 0
                        }
                    },
                    "comments-exporter-for-instagram": {
                        projectId: "comments-exporter-for-instagram",
                        chromeExtId: "kdllmcbmmpodaanhafejcpfamcljnobf",
                        name: "Comments Exporter for Instagram™",
                        link: "https://chromewebstore.google.com/detail/commnets-exporter-for-insta/kdllmcbmmpodaanhafejcpfamcljnobf",
                        description: "Effortless Instagram comment extractor extension, with nested replies export feature for user convenience.",
                        type: "instagram",
                        ytb: "rxzg6igmoDc",
                        checkout: {
                            basic: {
                                priceId: "price_1OJHLtHZagaT3kU5JsYthlOF",
                                priceCount: "4.98",
                                productId: "prod_P7WOo59asRkpdS",
                                oneTimePriceCount: "98.98",
                                oneTimePriceId: "price_1OJHN9HZagaT3kU5kkrqqHed"
                            },
                            premium: void 0
                        }
                    },
                    "friends-request-bot-for-facebook": {
                        projectId: "friends-request-bot-for-facebook",
                        chromeExtId: "fedcahalpkimbhhchfdbekanengpcpjm",
                        name: "Friends Request Bot for Facebook™",
                        link: "https://chromewebstore.google.com/detail/esuit-friends-request-bot/fedcahalpkimbhhchfdbekanengpcpjm",
                        description: "Send bulk friend requests, filter users, customize request intervals, statistics, and cancel requests in bulk.",
                        type: "facebook",
                        ytb: "yPQQwTY3FYw",
                        checkout: {
                            basic: {
                                priceId: "price_1OREP2HZagaT3kU5jWFPuN7s",
                                priceCount: "4.98",
                                productId: "prod_PFjslpDfpTClVq",
                                oneTimePriceCount: "78.98",
                                oneTimePriceId: "price_1ORESEHZagaT3kU5qNiAeXoF"
                            },
                            premium: {
                                priceId: "price_1OREWSHZagaT3kU58GK4EKSv",
                                priceCount: "6.98",
                                productId: "prod_PFk06pGwRRbHU7",
                                oneTimePriceCount: "98.89",
                                oneTimePriceId: "price_1OREYQHZagaT3kU5cf1AdRXl"
                            }
                        }
                    }
                }
                  , me = "mHxGWIqCotRcnLgFbr4YcdaZWDMHJlWu";
                function Qe(e) {
                    const {extsProjectIdArr: t=[], perRow: i=3} = e
                      , [o,a] = n.useState({})
                      , r = n.useMemo(()=>t.map(s=>{
                        if (Ye[s]) {
                            const l = o[s] ?? {};
                            return {
                                ...Ye[s],
                                ...l
                            }
                        } else
                            return !1
                    }
                    ).filter(s=>!!s), [t, o]);
                    return n.useEffect(()=>{
                        zt().then(s=>{
                            a(s)
                        }
                        ),
                        Ut(me, `
      .esuit-exts{
        opacity: 0.6;
        transition: opacity 300ms;
      }
      
      .esuit-exts:hover,.esuit-ext:hover{
        opacity: 1 !important
      }
    `)
                    }
                    , []),
                    w.jsxs("section", {
                        style: {
                            color: "inherit",
                            margin: "24px auto 0 auto"
                        },
                        className: "esuit-exts",
                        children: [w.jsxs("div", {
                            style: {
                                fontSize: 14,
                                opacity: .8,
                                marginBottom: 8,
                                display: "flex",
                                flexDirection: "row",
                                justifyContent: "space-between",
                                alignItems: "center"
                            },
                            children: [w.jsx("div", {
                                children: "Useful extensions for you"
                            }), w.jsx("a", {
                                href: "https://esuit.dev/",
                                target: "_blank",
                                style: {
                                    fontSize: 12,
                                    textDecoration: "none"
                                },
                                children: "Find more extensions"
                            })]
                        }), w.jsx("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: `repeat(${i}, 1fr)`,
                                gap: 12
                            },
                            children: r.map(s=>w.jsx(p.Tooltip, {
                                title: s.description,
                                children: w.jsxs("div", {
                                    className: "esuit-ext",
                                    style: {
                                        display: "flex",
                                        cursor: "pointer",
                                        minWidth: 330,
                                        paddingRight: 16,
                                        opacity: .6,
                                        lineHeight: 1.4
                                    },
                                    onClick: ()=>window.open(s.link, "_blank"),
                                    children: [w.jsx("img", {
                                        style: {
                                            width: 48,
                                            height: 48,
                                            display: "block",
                                            marginRight: 8
                                        },
                                        src: `https://esuit.dev/extensions/${s.projectId}.png`,
                                        alt: ""
                                    }), w.jsxs("div", {
                                        children: [w.jsx("div", {
                                            style: {
                                                fontSize: 16
                                            },
                                            children: s.name
                                        }), w.jsxs("div", {
                                            style: {
                                                fontSize: 12,
                                                display: "flex",
                                                opacity: .6
                                            },
                                            children: [w.jsxs("div", {
                                                children: ["Users: ", s.users]
                                            }), w.jsxs("div", {
                                                style: {
                                                    marginLeft: 12
                                                },
                                                children: ["Rate: ", s.rating]
                                            })]
                                        })]
                                    })]
                                })
                            }, s.projectId))
                        })]
                    })
                }
                function zt() {
                    return window[me] ? Promise.resolve(window[me]) : new Promise(e=>{
                        fetch("https://stats.esuit.dev/index.json").then(t=>t.json()).then(t=>{
                            window[me] = t.exts,
                            e(t.exts)
                        }
                        )
                    }
                    )
                }
                function Ut(e, t) {
                    const i = document.getElementById(e);
                    if (i)
                        i.innerText = t;
                    else {
                        const o = document.createElement("style");
                        o.innerHTML = t,
                        document.head.appendChild(o)
                    }
                }
                let Ht = /[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g
                  , qt = /[\?<>\\:\*\|":]/g
                  , Vt = /[\x00-\x1f\x80-\x9f]/g
                  , $t = /^\.+$/
                  , Kt = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i
                  , Wt = /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;
                function ie(e) {
                    return e.trim().replace(Wt, "").replace(qt, "").replace(Ht, "").replace(/[\\/]/g, "").replace(Vt, "").replace($t, "").replace(Kt, "").replace(/\s+/g, " ").split("").splice(0, 255).join("")
                }
                function Yt(e) {
                    return (t = ie,
                    i = e,
                    t(i)).replaceAll(".", "");
                    var t, i
                }
                (function() {
                    try {
                        if (typeof document < "u") {
                            var e = document.createElement("style");
                            e.appendChild(document.createTextNode('@charset "UTF-8";:root{--tagify-dd-color-primary: rgb(53,149,246);--tagify-dd-bg-color: white;--tagify-dd-item-pad: .3em .5em}.tagify{--tags-disabled-bg: #F1F1F1;--tags-border-color: #DDD;--tags-hover-border-color: #CCC;--tags-focus-border-color: #3595f6;--tag-border-radius: 3px;--tag-bg: #E5E5E5;--tag-hover: #D3E2E2;--tag-text-color: black;--tag-text-color--edit: black;--tag-pad: .3em .5em;--tag-inset-shadow-size: 1.1em;--tag-invalid-color: #D39494;--tag-invalid-bg: rgba(211, 148, 148, .5);--tag-remove-bg: rgba(211, 148, 148, .3);--tag-remove-btn-color: black;--tag-remove-btn-bg: none;--tag-remove-btn-bg--hover: #c77777;--input-color: inherit;--tag--min-width: 1ch;--tag--max-width: auto;--tag-hide-transition: .3s;--placeholder-color: rgba(0, 0, 0, .4);--placeholder-color-focus: rgba(0, 0, 0, .25);--loader-size: .8em;--readonly-striped: 1;display:inline-flex;align-items:flex-start;flex-wrap:wrap;border:1px solid var(--tags-border-color);padding:0;line-height:0;cursor:text;outline:none;position:relative;box-sizing:border-box;transition:.1s}@keyframes tags--bump{30%{transform:scale(1.2)}}@keyframes rotateLoader{to{transform:rotate(1turn)}}.tagify:hover:not(.tagify--focus):not(.tagify--invalid){--tags-border-color: var(--tags-hover-border-color)}.tagify[disabled]{background:var(--tags-disabled-bg);filter:saturate(0);opacity:.5;pointer-events:none}.tagify[readonly].tagify--select,.tagify[disabled].tagify--select{pointer-events:none}.tagify[readonly]:not(.tagify--mix):not(.tagify--select),.tagify[disabled]:not(.tagify--mix):not(.tagify--select){cursor:default}.tagify[readonly]:not(.tagify--mix):not(.tagify--select)>.tagify__input,.tagify[disabled]:not(.tagify--mix):not(.tagify--select)>.tagify__input{visibility:hidden;width:0;margin:5px 0}.tagify[readonly]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div,.tagify[disabled]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div{padding:var(--tag-pad)}.tagify[readonly]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div:before,.tagify[disabled]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div:before{animation:readonlyStyles 1s calc(-1s * (var(--readonly-striped) - 1)) paused}.tagify[readonly] .tagify__tag__removeBtn,.tagify[disabled] .tagify__tag__removeBtn{display:none}.tagify--loading .tagify__input>br:last-child{display:none}.tagify--loading .tagify__input:before{content:none}.tagify--loading .tagify__input:after{content:"";vertical-align:middle;opacity:1;width:.7em;height:.7em;width:var(--loader-size);height:var(--loader-size);min-width:0;border:3px solid;border-color:#EEE #BBB #888 transparent;border-radius:50%;animation:rotateLoader .4s infinite linear;content:""!important;margin:-2px 0 -2px .5em}.tagify--loading .tagify__input:empty:after{margin-left:0}.tagify+input,.tagify+textarea{position:absolute!important;left:-9999em!important;transform:scale(0)!important}.tagify__tag{display:inline-flex;align-items:center;margin:5px 0 5px 5px;position:relative;z-index:1;outline:none;line-height:normal;cursor:default;transition:.13s ease-out}.tagify__tag>div{vertical-align:top;box-sizing:border-box;max-width:100%;padding:var(--tag-pad);color:var(--tag-text-color);line-height:inherit;border-radius:var(--tag-border-radius);white-space:nowrap;transition:.13s ease-out}.tagify__tag>div>*{white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;vertical-align:top;min-width:var(--tag--min-width);max-width:var(--tag--max-width);transition:.8s ease,.1s color}.tagify__tag>div>*[contenteditable]{outline:none;user-select:text;cursor:text;margin:-2px;padding:2px;max-width:350px}.tagify__tag>div:before{content:"";position:absolute;border-radius:inherit;inset:var(--tag-bg-inset, 0);z-index:-1;pointer-events:none;transition:.12s ease;animation:tags--bump .3s ease-out 1;box-shadow:0 0 0 var(--tag-inset-shadow-size) var(--tag-bg) inset}.tagify__tag:hover:not([readonly]) div:before,.tagify__tag:focus div:before{--tag-bg-inset: -2.5px;--tag-bg: var(--tag-hover)}.tagify__tag--loading{pointer-events:none}.tagify__tag--loading .tagify__tag__removeBtn{display:none}.tagify__tag--loading:after{--loader-size: .4em;content:"";vertical-align:middle;opacity:1;width:.7em;height:.7em;width:var(--loader-size);height:var(--loader-size);min-width:0;border:3px solid;border-color:#EEE #BBB #888 transparent;border-radius:50%;animation:rotateLoader .4s infinite linear;margin:0 .5em 0 -.1em}.tagify__tag--flash div:before{animation:none}.tagify__tag--hide{width:0!important;padding-left:0;padding-right:0;margin-left:0;margin-right:0;opacity:0;transform:scale(0);transition:var(--tag-hide-transition);pointer-events:none}.tagify__tag--hide>div>*{white-space:nowrap}.tagify__tag.tagify--noAnim>div:before{animation:none}.tagify__tag.tagify--notAllowed:not(.tagify__tag--editable) div>span{opacity:.5}.tagify__tag.tagify--notAllowed:not(.tagify__tag--editable) div:before{--tag-bg: var(--tag-invalid-bg);transition:.2s}.tagify__tag[readonly] .tagify__tag__removeBtn{display:none}.tagify__tag[readonly]>div:before{animation:readonlyStyles 1s calc(-1s * (var(--readonly-striped) - 1)) paused}@keyframes readonlyStyles{0%{background:linear-gradient(45deg,var(--tag-bg) 25%,transparent 25%,transparent 50%,var(--tag-bg) 50%,var(--tag-bg) 75%,transparent 75%,transparent) 0/5px 5px;box-shadow:none;filter:brightness(.95)}}.tagify__tag--editable>div{color:var(--tag-text-color--edit)}.tagify__tag--editable>div:before{box-shadow:0 0 0 2px var(--tag-hover) inset!important}.tagify__tag--editable>.tagify__tag__removeBtn{pointer-events:none}.tagify__tag--editable>.tagify__tag__removeBtn:after{opacity:0;transform:translate(100%) translate(5px)}.tagify__tag--editable.tagify--invalid>div:before{box-shadow:0 0 0 2px var(--tag-invalid-color) inset!important}.tagify__tag__removeBtn{order:5;display:inline-flex;align-items:center;justify-content:center;border-radius:50px;cursor:pointer;font:14px/1 Arial;background:var(--tag-remove-btn-bg);color:var(--tag-remove-btn-color);width:14px;height:14px;margin-right:4.6666666667px;margin-left:auto;overflow:hidden;transition:.2s ease-out}.tagify__tag__removeBtn:after{content:"\\d7";transition:.3s,color 0s}.tagify__tag__removeBtn:hover{color:#fff;background:var(--tag-remove-btn-bg--hover)}.tagify__tag__removeBtn:hover+div>span{opacity:.5}.tagify__tag__removeBtn:hover+div:before{box-shadow:0 0 0 var(--tag-inset-shadow-size) var(--tag-remove-bg, rgba(211, 148, 148, .3)) inset!important;transition:box-shadow .2s}.tagify:not(.tagify--mix) .tagify__input br{display:none}.tagify:not(.tagify--mix) .tagify__input *{display:inline;white-space:nowrap}.tagify__input{flex-grow:1;display:inline-block;min-width:110px;margin:5px;padding:var(--tag-pad);line-height:normal;position:relative;white-space:pre-wrap;color:var(--input-color);box-sizing:inherit}.tagify__input:empty:before{position:static}.tagify__input:focus{outline:none}.tagify__input:focus:before{transition:.2s ease-out;opacity:0;transform:translate(6px)}@supports (-ms-ime-align: auto){.tagify__input:focus:before{display:none}}.tagify__input:focus:empty:before{transition:.2s ease-out;opacity:1;transform:none;color:#00000040;color:var(--placeholder-color-focus)}@-moz-document url-prefix(){.tagify__input:focus:empty:after{display:none}}.tagify__input:before{content:attr(data-placeholder);height:1em;line-height:1em;margin:auto 0;z-index:1;color:var(--placeholder-color);white-space:nowrap;pointer-events:none;opacity:0;position:absolute}.tagify__input:after{content:attr(data-suggest);display:inline-block;vertical-align:middle;position:absolute;min-width:calc(100% - 1.5em);text-overflow:ellipsis;overflow:hidden;white-space:pre;color:var(--tag-text-color);opacity:.3;pointer-events:none;max-width:100px}.tagify__input .tagify__tag{margin:0 1px}.tagify--mix{display:block}.tagify--mix .tagify__input{padding:5px;margin:0;width:100%;height:100%;line-height:1.5;display:block}.tagify--mix .tagify__input:before{height:auto;display:none;line-height:inherit}.tagify--mix .tagify__input:after{content:none}.tagify--select:after{content:">";opacity:.5;position:absolute;top:50%;right:0;bottom:0;font:16px monospace;line-height:8px;height:8px;pointer-events:none;transform:translate(-150%,-50%) scaleX(1.2) rotate(90deg);transition:.2s ease-in-out}.tagify--select[aria-expanded=true]:after{transform:translate(-150%,-50%) rotate(270deg) scaleY(1.2)}.tagify--select .tagify__tag{position:absolute;top:0;right:1.8em;bottom:0}.tagify--select .tagify__tag div{display:none}.tagify--select .tagify__input{width:100%}.tagify--empty .tagify__input:before{transition:.2s ease-out;opacity:1;transform:none;display:inline-block;width:auto}.tagify--mix .tagify--empty .tagify__input:before{display:inline-block}.tagify--focus{--tags-border-color: var(--tags-focus-border-color);transition:0s}.tagify--invalid{--tags-border-color: #D39494}.tagify__dropdown{position:absolute;z-index:9999;transform:translateY(1px);overflow:hidden}.tagify__dropdown[placement=top]{margin-top:0;transform:translateY(-100%)}.tagify__dropdown[placement=top] .tagify__dropdown__wrapper{border-top-width:1.1px;border-bottom-width:0}.tagify__dropdown[position=text]{box-shadow:0 0 0 3px rgba(var(--tagify-dd-color-primary),.1);font-size:.9em}.tagify__dropdown[position=text] .tagify__dropdown__wrapper{border-width:1px}.tagify__dropdown__wrapper{max-height:300px;overflow:auto;overflow-x:hidden;background:var(--tagify-dd-bg-color);border:1px solid;border-color:var(--tagify-dd-color-primary);border-bottom-width:1.5px;border-top-width:0;box-shadow:0 2px 4px -2px #0003;transition:.25s cubic-bezier(0,1,.5,1)}.tagify__dropdown__header:empty{display:none}.tagify__dropdown__footer{display:inline-block;margin-top:.5em;padding:var(--tagify-dd-item-pad);font-size:.7em;font-style:italic;opacity:.5}.tagify__dropdown__footer:empty{display:none}.tagify__dropdown--initial .tagify__dropdown__wrapper{max-height:20px;transform:translateY(-1em)}.tagify__dropdown--initial[placement=top] .tagify__dropdown__wrapper{transform:translateY(2em)}.tagify__dropdown__item{box-sizing:border-box;padding:var(--tagify-dd-item-pad);margin:1px;white-space:pre-wrap;cursor:pointer;border-radius:2px;position:relative;outline:none;max-height:60px;max-width:100%}.tagify__dropdown__item--active{background:var(--tagify-dd-color-primary);color:#fff}.tagify__dropdown__item:active{filter:brightness(105%)}.tagify__dropdown__item--hidden{padding-top:0;padding-bottom:0;margin:0 1px;pointer-events:none;overflow:hidden;max-height:0;transition:var(--tagify-dd-item--hidden-duration, .3s)!important}.tagify__dropdown__item--hidden>*{transform:translateY(-100%);opacity:0;transition:inherit}.tagify-wrapper{font-size:14px}.tagify-wrapper .eg-txt{display:inline-block;max-width:330px;white-space:pre-wrap;word-break:break-all;vertical-align:top}.tagify-wrapper .bottom-bar{display:flex;flex-direction:row;justify-content:space-between}.tagify-wrapper.dark .tagify{border-color:#424242}.tagify-wrapper.dark .tagify__input:before,.tagify-wrapper.dark .tagify__input,.tagify-wrapper.dark .tagify-example{color:#b0b3b8}.tagify{padding-left:4px;border-radius:6px;border-color:#d9d9d9;font-size:14px;min-width:384px;max-width:384px;overflow:hidden}.tagify.tagify--focus{border-color:#4096ff!important;box-shadow:0 0 0 2px #0591ff1a;outline:0}.tagify .tagify__tag-text,.tagify .tagify__input{white-space:nowrap!important}.tagify .tagify__tag-text br,.tagify .tagify__input br{display:none!important}.tagify .tagify__tag-text *,.tagify .tagify__input *{display:inline;white-space:nowrap}.tagify-dropdown .ant-dropdown-menu{overflow:auto;overflow-x:hidden;max-height:240px}.tagify-dropdown .tagify__tag,.tagify .tagify__tag{display:inline-flex;transition:none;margin:0 4px!important;transform:translateY(-1px)}.tagify-dropdown .tagify__tag x,.tagify .tagify__tag x{display:none}.tagify-dropdown .tagify__tag>div,.tagify .tagify__tag>div{background:#1677ff;color:#fff;font-size:12px;line-height:20px;border-radius:4px;padding:0 7px;font-family:-apple-system,sans-serif}.tagify-dropdown .tagify__tag>div:before,.tagify .tagify__tag>div:before{display:none}.tagify-example{width:100%;padding-top:4px;font-size:11px}.tagify-example .eg{padding-right:8px;opacity:.8}')),
                            document.head.appendChild(e)
                        }
                    } catch (t) {
                        console.error("vite-plugin-css-injected-by-js", t)
                    }
                }
                )();
                var Fe = "​";
                const ue = (e,t,i,o)=>(e = "" + e,
                t = "" + t,
                o && (e = e.trim(),
                t = t.trim()),
                i ? e == t : e.toLowerCase() == t.toLowerCase())
                  , Ge = (e,t)=>e && Array.isArray(e) && e.map(i=>Ae(i, t));
                function Ae(e, t) {
                    var i = {}, o;
                    for (o in e)
                        t.indexOf(o) < 0 && (i[o] = e[o]);
                    return i
                }
                function Ze(e) {
                    var t = document.createElement("div");
                    return e.replace(/\&#?[0-9a-z]+;/gi, function(i) {
                        return t.innerHTML = i,
                        t.innerText
                    })
                }
                function Ie(e) {
                    var t = new DOMParser
                      , i = t.parseFromString(e.trim(), "text/html");
                    return i.body.firstElementChild
                }
                function Qt(e) {
                    return e ? e.replace(/\>[\r\n ]+\</g, "><").split(/>\s+</).join("><").trim() : ""
                }
                function Gt(e) {
                    for (var t = document.createNodeIterator(e, NodeFilter.SHOW_TEXT, null, !1), i; i = t.nextNode(); )
                        i.textContent.trim() || i.parentNode.removeChild(i)
                }
                function Je(e, t) {
                    for (t = t || "previous"; e = e[t + "Sibling"]; )
                        if (e.nodeType == 3)
                            return e
                }
                function oe(e) {
                    return typeof e == "string" ? e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/`|'/g, "&#039;") : e
                }
                function X(e) {
                    var t = Object.prototype.toString.call(e).split(" ")[1].slice(0, -1);
                    return e === Object(e) && t != "Array" && t != "Function" && t != "RegExp" && t != "HTMLUnknownElement"
                }
                function N(e, t, i) {
                    e instanceof Object || (e = {}),
                    o(e, t),
                    i && o(e, i);
                    function o(a, r) {
                        for (var s in r)
                            if (r.hasOwnProperty(s)) {
                                if (X(r[s])) {
                                    X(a[s]) ? o(a[s], r[s]) : a[s] = Object.assign({}, r[s]);
                                    continue
                                }
                                if (Array.isArray(r[s])) {
                                    a[s] = Object.assign([], r[s]);
                                    continue
                                }
                                a[s] = r[s]
                            }
                    }
                    return e
                }
                function Xe() {
                    const e = []
                      , t = {};
                    for (let i of arguments)
                        for (let o of i)
                            X(o) ? t[o.value] || (e.push(o),
                            t[o.value] = 1) : e.includes(o) || e.push(o);
                    return e
                }
                function fe(e) {
                    if (!String.prototype.normalize)
                        return e;
                    if (typeof e == "string")
                        return e.normalize("NFD").replace(/[\u0300-\u036f]/g, "")
                }
                function Zt(e) {
                    var t, i = e.cloneNode(!0);
                    return i.style.cssText = "position:fixed; top:-9999px; opacity:0",
                    document.body.appendChild(i),
                    t = i.clientHeight,
                    i.parentNode.removeChild(i),
                    t
                }
                var Re = ()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);
                function et() {
                    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, e=>(e ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16))
                }
                function se(e) {
                    return e && e.classList && e.classList.contains(this.settings.classNames.tag)
                }
                function Jt() {
                    const e = document.getSelection();
                    if (e.rangeCount) {
                        const t = e.getRangeAt(0)
                          , i = t.startContainer
                          , o = t.startOffset;
                        let a, r;
                        if (o > 0)
                            return r = document.createRange(),
                            r.setStart(i, o - 1),
                            r.setEnd(i, o),
                            a = r.getBoundingClientRect(),
                            {
                                left: a.right,
                                top: a.top,
                                bottom: a.bottom
                            };
                        if (i.getBoundingClientRect)
                            return i.getBoundingClientRect()
                    }
                    return {
                        left: -9999,
                        top: -9999
                    }
                }
                function tt(e, t) {
                    var i = window.getSelection();
                    return t = t || i.getRangeAt(0),
                    typeof e == "string" && (e = document.createTextNode(e)),
                    t && (t.deleteContents(),
                    t.insertNode(e)),
                    e
                }
                function I(e, t, i) {
                    return e ? (t && (e.__tagifyTagData = i ? t : N({}, e.__tagifyTagData || {}, t)),
                    e.__tagifyTagData) : (console.warn("tag element doesn't exist", e, t),
                    t)
                }
                function ne(e) {
                    if (!(!e || !e.parentNode)) {
                        var t = e
                          , i = window.getSelection()
                          , o = i.getRangeAt(0);
                        i.rangeCount && (o.setStartAfter(t),
                        o.collapse(!0),
                        i.removeAllRanges(),
                        i.addRange(o))
                    }
                }
                function it(e, t) {
                    e.forEach(i=>{
                        if (I(i.previousSibling) || !i.previousSibling) {
                            var o = document.createTextNode(Fe);
                            i.before(o),
                            t && ne(o)
                        }
                    }
                    )
                }
                const Se = {
                    delimiters: ",",
                    pattern: null,
                    tagTextProp: "value",
                    maxTags: 1 / 0,
                    callbacks: {},
                    addTagOnBlur: !0,
                    onChangeAfterBlur: !0,
                    duplicates: !1,
                    whitelist: [],
                    blacklist: [],
                    enforceWhitelist: !1,
                    userInput: !0,
                    keepInvalidTags: !1,
                    createInvalidTags: !0,
                    mixTagsAllowedAfter: /,|\.|\:|\s/,
                    mixTagsInterpolator: ["[[", "]]"],
                    backspace: !0,
                    skipInvalid: !1,
                    pasteAsTags: !0,
                    editTags: {
                        clicks: 2,
                        keepInvalid: !0
                    },
                    transformTag: ()=>{}
                    ,
                    trim: !0,
                    a11y: {
                        focusableTags: !1
                    },
                    mixMode: {
                        insertAfterTag: " "
                    },
                    autoComplete: {
                        enabled: !0,
                        rightKey: !1
                    },
                    classNames: {
                        namespace: "tagify",
                        mixMode: "tagify--mix",
                        selectMode: "tagify--select",
                        input: "tagify__input",
                        focus: "tagify--focus",
                        tagNoAnimation: "tagify--noAnim",
                        tagInvalid: "tagify--invalid",
                        tagNotAllowed: "tagify--notAllowed",
                        scopeLoading: "tagify--loading",
                        hasMaxTags: "tagify--hasMaxTags",
                        hasNoTags: "tagify--noTags",
                        empty: "tagify--empty",
                        inputInvalid: "tagify__input--invalid",
                        dropdown: "tagify__dropdown",
                        dropdownWrapper: "tagify__dropdown__wrapper",
                        dropdownHeader: "tagify__dropdown__header",
                        dropdownFooter: "tagify__dropdown__footer",
                        dropdownItem: "tagify__dropdown__item",
                        dropdownItemActive: "tagify__dropdown__item--active",
                        dropdownItemHidden: "tagify__dropdown__item--hidden",
                        dropdownInital: "tagify__dropdown--initial",
                        tag: "tagify__tag",
                        tagText: "tagify__tag-text",
                        tagX: "tagify__tag__removeBtn",
                        tagLoading: "tagify__tag--loading",
                        tagEditing: "tagify__tag--editable",
                        tagFlash: "tagify__tag--flash",
                        tagHide: "tagify__tag--hide"
                    },
                    dropdown: {
                        classname: "",
                        enabled: 2,
                        maxItems: 10,
                        searchKeys: ["value", "searchBy"],
                        fuzzySearch: !0,
                        caseSensitive: !1,
                        accentedSearch: !0,
                        includeSelectedTags: !1,
                        highlightFirst: !1,
                        closeOnSelect: !0,
                        clearOnSelect: !0,
                        position: "all",
                        appendTarget: null
                    },
                    hooks: {
                        beforeRemoveTag: ()=>Promise.resolve(),
                        beforePaste: ()=>Promise.resolve(),
                        suggestionClick: ()=>Promise.resolve()
                    }
                };
                function Xt() {
                    this.dropdown = {};
                    for (let e in this._dropdown)
                        this.dropdown[e] = typeof this._dropdown[e] == "function" ? this._dropdown[e].bind(this) : this._dropdown[e];
                    this.dropdown.refs()
                }
                const Rt = {
                    refs() {
                        this.DOM.dropdown = this.parseTemplate("dropdown", [this.settings]),
                        this.DOM.dropdown.content = this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")
                    },
                    getHeaderRef() {
                        return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")
                    },
                    getFooterRef() {
                        return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")
                    },
                    getAllSuggestionsRefs() {
                        return [...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]
                    },
                    show(e) {
                        var t = this.settings, i, o, a = t.mode == "mix" && !t.enforceWhitelist, r = !t.whitelist || !t.whitelist.length, s, l = t.dropdown.position == "manual";
                        if (e = e === void 0 ? this.state.inputText : e,
                        !(r && !a && !t.templates.dropdownItemNoMatch || t.dropdown.enable === !1 || this.state.isLoading || this.settings.readonly)) {
                            if (clearTimeout(this.dropdownHide__bindEventsTimeout),
                            this.suggestedListItems = this.dropdown.filterListItems(e),
                            e && !this.suggestedListItems.length && (this.trigger("dropdown:noMatch", e),
                            t.templates.dropdownItemNoMatch && (s = t.templates.dropdownItemNoMatch.call(this, {
                                value: e
                            }))),
                            !s) {
                                if (this.suggestedListItems.length)
                                    e && a && !this.state.editing.scope && !ue(this.suggestedListItems[0].value, e) && this.suggestedListItems.unshift({
                                        value: e
                                    });
                                else if (e && a && !this.state.editing.scope)
                                    this.suggestedListItems = [{
                                        value: e
                                    }];
                                else {
                                    this.input.autocomplete.suggest.call(this),
                                    this.dropdown.hide();
                                    return
                                }
                                i = this.suggestedListItems[0],
                                o = "" + (X(i) ? i.value : i),
                                t.autoComplete && o && o.indexOf(e) == 0 && this.input.autocomplete.suggest.call(this, i)
                            }
                            this.dropdown.fill(s),
                            t.dropdown.highlightFirst && this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(t.classNames.dropdownItemSelector)),
                            this.state.dropdown.visible || setTimeout(this.dropdown.events.binding.bind(this)),
                            this.state.dropdown.visible = e || !0,
                            this.state.dropdown.query = e,
                            this.setStateSelection(),
                            l || setTimeout(()=>{
                                this.dropdown.position(),
                                this.dropdown.render()
                            }
                            ),
                            setTimeout(()=>{
                                this.trigger("dropdown:show", this.DOM.dropdown)
                            }
                            )
                        }
                    },
                    hide(e) {
                        var {scope: t, dropdown: i} = this.DOM
                          , o = this.settings.dropdown.position == "manual" && !e;
                        if (!(!i || !document.body.contains(i) || o))
                            return window.removeEventListener("resize", this.dropdown.position),
                            this.dropdown.events.binding.call(this, !1),
                            t.setAttribute("aria-expanded", !1),
                            i.parentNode.removeChild(i),
                            setTimeout(()=>{
                                this.state.dropdown.visible = !1
                            }
                            , 100),
                            this.state.dropdown.query = this.state.ddItemData = this.state.ddItemElm = this.state.selection = null,
                            this.state.tag && this.state.tag.value.length && (this.state.flaggedTags[this.state.tag.baseOffset] = this.state.tag),
                            this.trigger("dropdown:hide", i),
                            this
                    },
                    toggle(e) {
                        this.dropdown[this.state.dropdown.visible && !e ? "hide" : "show"]()
                    },
                    render() {
                        var e = Zt(this.DOM.dropdown)
                          , t = this.settings
                          , i = typeof t.dropdown.enabled == "number" && t.dropdown.enabled >= 0;
                        return i ? (this.DOM.scope.setAttribute("aria-expanded", !0),
                        document.body.contains(this.DOM.dropdown) || (this.DOM.dropdown.classList.add(t.classNames.dropdownInital),
                        this.dropdown.position(e),
                        t.dropdown.appendTarget.appendChild(this.DOM.dropdown),
                        setTimeout(()=>this.DOM.dropdown.classList.remove(t.classNames.dropdownInital))),
                        this) : this
                    },
                    fill(e) {
                        e = typeof e == "string" ? e : this.dropdown.createListHTML(e || this.suggestedListItems);
                        var t = this.settings.templates.dropdownContent.call(this, e);
                        this.DOM.dropdown.content.innerHTML = Qt(t)
                    },
                    fillHeaderFooter() {
                        var e = this.dropdown.filterListItems(this.state.dropdown.query)
                          , t = this.parseTemplate("dropdownHeader", [e])
                          , i = this.parseTemplate("dropdownFooter", [e])
                          , o = this.dropdown.getHeaderRef()
                          , a = this.dropdown.getFooterRef();
                        t && (o == null || o.parentNode.replaceChild(t, o)),
                        i && (a == null || a.parentNode.replaceChild(i, a))
                    },
                    refilter(e) {
                        e = e || this.state.dropdown.query || "",
                        this.suggestedListItems = this.dropdown.filterListItems(e),
                        this.dropdown.fill(),
                        this.suggestedListItems.length || this.dropdown.hide(),
                        this.trigger("dropdown:updated", this.DOM.dropdown)
                    },
                    position(e) {
                        var t = this.settings.dropdown;
                        if (t.position == "manual")
                            return;
                        var i, o, a, r, s, l, u = this.DOM.dropdown, c = t.placeAbove, d = t.appendTarget === document.body, f = d ? window.pageYOffset : t.appendTarget.scrollTop, g = document.fullscreenElement || document.webkitFullscreenElement || document.documentElement, h = g.clientHeight, x = Math.max(g.clientWidth || 0, window.innerWidth || 0), m = x > 480 ? t.position : "all", v = this.DOM[m == "input" ? "input" : "scope"];
                        e = e || u.clientHeight;
                        function y(E) {
                            for (var D = 0, _ = 0; E && E != g; )
                                D += E.offsetLeft || 0,
                                _ += E.offsetTop || 0,
                                E = E.parentNode;
                            return {
                                left: D,
                                top: _
                            }
                        }
                        function b() {
                            for (var E = 0, D = t.appendTarget.parentNode; D; )
                                E += D.scrollTop || 0,
                                D = D.parentNode;
                            return E
                        }
                        if (this.state.dropdown.visible) {
                            if (m == "text" ? (i = Jt(),
                            a = i.bottom,
                            o = i.top,
                            r = i.left,
                            s = "auto") : (l = y(t.appendTarget),
                            i = v.getBoundingClientRect(),
                            o = i.top - l.top,
                            a = i.bottom - 1 - l.top,
                            r = i.left - l.left,
                            s = i.width + "px"),
                            !d) {
                                let E = b();
                                o += E,
                                a += E
                            }
                            o = Math.floor(o),
                            a = Math.ceil(a),
                            c = c === void 0 ? h - i.bottom < e : c,
                            u.style.cssText = "left:" + (r + window.pageXOffset) + "px; width:" + s + ";" + (c ? "top: " + (o + f) + "px" : "top: " + (a + f) + "px"),
                            u.setAttribute("placement", c ? "top" : "bottom"),
                            u.setAttribute("position", m)
                        }
                    },
                    events: {
                        binding(e=!0) {
                            var t = this.dropdown.events.callbacks
                              , i = this.listeners.dropdown = this.listeners.dropdown || {
                                position: this.dropdown.position.bind(this, null),
                                onKeyDown: t.onKeyDown.bind(this),
                                onMouseOver: t.onMouseOver.bind(this),
                                onMouseLeave: t.onMouseLeave.bind(this),
                                onClick: t.onClick.bind(this),
                                onScroll: t.onScroll.bind(this)
                            }
                              , o = e ? "addEventListener" : "removeEventListener";
                            this.settings.dropdown.position != "manual" && (document[o]("scroll", i.position, !0),
                            window[o]("resize", i.position),
                            window[o]("keydown", i.onKeyDown)),
                            this.DOM.dropdown[o]("mouseover", i.onMouseOver),
                            this.DOM.dropdown[o]("mouseleave", i.onMouseLeave),
                            this.DOM.dropdown[o]("mousedown", i.onClick),
                            this.DOM.dropdown.content[o]("scroll", i.onScroll)
                        },
                        callbacks: {
                            onKeyDown(e) {
                                if (!(!this.state.hasFocus || this.state.composing)) {
                                    var t = this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector)
                                      , i = this.dropdown.getSuggestionDataByNode(t);
                                    switch (e.key) {
                                    case "ArrowDown":
                                    case "ArrowUp":
                                    case "Down":
                                    case "Up":
                                        {
                                            e.preventDefault();
                                            var o = this.dropdown.getAllSuggestionsRefs()
                                              , a = e.key == "ArrowUp" || e.key == "Up";
                                            t && (t = this.dropdown.getNextOrPrevOption(t, !a)),
                                            (!t || !t.matches(this.settings.classNames.dropdownItemSelector)) && (t = o[a ? o.length - 1 : 0]),
                                            this.dropdown.highlightOption(t, !0);
                                            break
                                        }
                                    case "Escape":
                                    case "Esc":
                                        this.dropdown.hide();
                                        break;
                                    case "ArrowRight":
                                        if (this.state.actions.ArrowLeft)
                                            return;
                                    case "Tab":
                                        {
                                            if (this.settings.mode != "mix" && t && !this.settings.autoComplete.rightKey && !this.state.editing) {
                                                e.preventDefault();
                                                var r = this.dropdown.getMappedValue(i);
                                                return this.input.autocomplete.set.call(this, r),
                                                !1
                                            }
                                            return !0
                                        }
                                    case "Enter":
                                        {
                                            e.preventDefault(),
                                            this.settings.hooks.suggestionClick(e, {
                                                tagify: this,
                                                tagData: i,
                                                suggestionElm: t
                                            }).then(()=>{
                                                if (t) {
                                                    this.dropdown.selectOption(t),
                                                    t = this.dropdown.getNextOrPrevOption(t, !a),
                                                    this.dropdown.highlightOption(t);
                                                    return
                                                } else
                                                    this.dropdown.hide();
                                                this.settings.mode != "mix" && this.addTags(this.state.inputText.trim(), !0)
                                            }
                                            ).catch(s=>s);
                                            break
                                        }
                                    case "Backspace":
                                        {
                                            if (this.settings.mode == "mix" || this.state.editing.scope)
                                                return;
                                            const s = this.input.raw.call(this);
                                            (s == "" || s.charCodeAt(0) == 8203) && (this.settings.backspace === !0 ? this.removeTags() : this.settings.backspace == "edit" && setTimeout(this.editTag.bind(this), 0))
                                        }
                                    }
                                }
                            },
                            onMouseOver(e) {
                                var t = e.target.closest(this.settings.classNames.dropdownItemSelector);
                                t && this.dropdown.highlightOption(t)
                            },
                            onMouseLeave(e) {
                                this.dropdown.highlightOption()
                            },
                            onClick(e) {
                                if (!(e.button != 0 || e.target == this.DOM.dropdown || e.target == this.DOM.dropdown.content)) {
                                    var t = e.target.closest(this.settings.classNames.dropdownItemSelector)
                                      , i = this.dropdown.getSuggestionDataByNode(t);
                                    this.state.actions.selectOption = !0,
                                    setTimeout(()=>this.state.actions.selectOption = !1, 50),
                                    this.settings.hooks.suggestionClick(e, {
                                        tagify: this,
                                        tagData: i,
                                        suggestionElm: t
                                    }).then(()=>{
                                        t ? this.dropdown.selectOption(t, e) : this.dropdown.hide()
                                    }
                                    ).catch(o=>console.warn(o))
                                }
                            },
                            onScroll(e) {
                                var t = e.target
                                  , i = t.scrollTop / (t.scrollHeight - t.parentNode.clientHeight) * 100;
                                this.trigger("dropdown:scroll", {
                                    percentage: Math.round(i)
                                })
                            }
                        }
                    },
                    getSuggestionDataByNode(e) {
                        var t = e && e.getAttribute("value");
                        return this.suggestedListItems.find(i=>i.value == t) || null
                    },
                    getNextOrPrevOption(e, t=!0) {
                        var i = this.dropdown.getAllSuggestionsRefs()
                          , o = i.findIndex(a=>a === e);
                        return t ? i[o + 1] : i[o - 1]
                    },
                    highlightOption(e, t) {
                        var i = this.settings.classNames.dropdownItemActive, o;
                        if (this.state.ddItemElm && (this.state.ddItemElm.classList.remove(i),
                        this.state.ddItemElm.removeAttribute("aria-selected")),
                        !e) {
                            this.state.ddItemData = null,
                            this.state.ddItemElm = null,
                            this.input.autocomplete.suggest.call(this);
                            return
                        }
                        o = this.dropdown.getSuggestionDataByNode(e),
                        this.state.ddItemData = o,
                        this.state.ddItemElm = e,
                        e.classList.add(i),
                        e.setAttribute("aria-selected", !0),
                        t && (e.parentNode.scrollTop = e.clientHeight + e.offsetTop - e.parentNode.clientHeight),
                        this.settings.autoComplete && (this.input.autocomplete.suggest.call(this, o),
                        this.dropdown.position())
                    },
                    selectOption(e, t) {
                        var {clearOnSelect: i, closeOnSelect: o} = this.settings.dropdown;
                        if (!e) {
                            this.addTags(this.state.inputText, !0),
                            o && this.dropdown.hide();
                            return
                        }
                        t = t || {};
                        var a = e.getAttribute("value")
                          , r = a == "noMatch"
                          , s = this.suggestedListItems.find(l=>(l.value ?? l) == a);
                        if (this.trigger("dropdown:select", {
                            data: s,
                            elm: e,
                            event: t
                        }),
                        !a || !s && !r) {
                            o && setTimeout(this.dropdown.hide.bind(this));
                            return
                        }
                        this.state.editing ? this.onEditTagDone(null, N({
                            __isValid: !0
                        }, this.normalizeTags([s])[0])) : this[this.settings.mode == "mix" ? "addMixTags" : "addTags"]([s || this.input.raw.call(this)], i),
                        this.DOM.input.parentNode && (setTimeout(()=>{
                            this.DOM.input.focus(),
                            this.toggleFocusClass(!0)
                        }
                        ),
                        o && setTimeout(this.dropdown.hide.bind(this)),
                        e.addEventListener("transitionend", ()=>{
                            this.dropdown.fillHeaderFooter(),
                            setTimeout(()=>e.remove(), 100)
                        }
                        , {
                            once: !0
                        }),
                        e.classList.add(this.settings.classNames.dropdownItemHidden))
                    },
                    selectAll(e) {
                        this.suggestedListItems.length = 0,
                        this.dropdown.hide(),
                        this.dropdown.filterListItems("");
                        var t = this.dropdown.filterListItems("");
                        return e || (t = this.state.dropdown.suggestions),
                        this.addTags(t, !0),
                        this
                    },
                    filterListItems(e, a) {
                        var i = this.settings, o = i.dropdown, a = a || {}, r = [], s = [], l = i.whitelist, u = o.maxItems >= 0 ? o.maxItems : 1 / 0, c = o.searchKeys, d, f, g, h, x, m = 0;
                        if (e = i.mode == "select" && this.value.length && this.value[0][i.tagTextProp] == e ? "" : e,
                        !e || !c.length)
                            return r = o.includeSelectedTags ? l : l.filter(y=>!this.isTagDuplicate(X(y) ? y.value : y)),
                            this.state.dropdown.suggestions = r,
                            r.slice(0, u);
                        x = o.caseSensitive ? "" + e : ("" + e).toLowerCase();
                        function v(y, b) {
                            return b.toLowerCase().split(" ").every(E=>y.includes(E.toLowerCase()))
                        }
                        for (; m < l.length; m++) {
                            let y, b;
                            d = l[m]instanceof Object ? l[m] : {
                                value: l[m]
                            };
                            let E = !Object.keys(d).some(_=>c.includes(_))
                              , D = E ? ["value"] : c;
                            o.fuzzySearch && !a.exact ? (g = D.reduce((_,C)=>_ + " " + (d[C] || ""), "").toLowerCase().trim(),
                            o.accentedSearch && (g = fe(g),
                            x = fe(x)),
                            y = g.indexOf(x) == 0,
                            b = g === x,
                            f = v(g, x)) : (y = !0,
                            f = D.some(_=>{
                                var C = "" + (d[_] || "");
                                return o.accentedSearch && (C = fe(C),
                                x = fe(x)),
                                o.caseSensitive || (C = C.toLowerCase()),
                                b = C === x,
                                a.exact ? C === x : C.indexOf(x) == 0
                            }
                            )),
                            h = !o.includeSelectedTags && this.isTagDuplicate(X(d) ? d.value : d),
                            f && !h && (b && y ? s.push(d) : o.sortby == "startsWith" && y ? r.unshift(d) : r.push(d))
                        }
                        return this.state.dropdown.suggestions = s.concat(r),
                        typeof o.sortby == "function" ? o.sortby(s.concat(r), x) : s.concat(r).slice(0, u)
                    },
                    getMappedValue(e) {
                        var t = this.settings.dropdown.mapValueTo
                          , i = t ? typeof t == "function" ? t(e) : e[t] || e.value : e.value;
                        return i
                    },
                    createListHTML(e) {
                        return N([], e).map((t,i)=>{
                            (typeof t == "string" || typeof t == "number") && (t = {
                                value: t
                            });
                            var o = this.dropdown.getMappedValue(t);
                            return o = typeof o == "string" ? oe(o) : o,
                            this.settings.templates.dropdownItem.apply(this, [{
                                ...t,
                                mappedValue: o
                            }, this])
                        }
                        ).join("")
                    }
                }
                  , Me = 1
                  , ce = "@yaireo/tagify/"
                  , ei = e=>t=>{
                    let i = "/" + t, o;
                    if (localStorage.getItem(ce + e + "/v", Me) == Me)
                        try {
                            o = JSON.parse(localStorage[ce + e + i])
                        } catch {}
                    return o
                }
                  , ti = e=>e ? (localStorage.setItem(ce + e + "/v", Me),
                (t,i)=>{
                    let o = "/" + i
                      , a = JSON.stringify(t);
                    t && i && (localStorage.setItem(ce + e + o, a),
                    dispatchEvent(new Event("storage")))
                }
                ) : ()=>{}
                  , ii = e=>t=>{
                    const i = ce + "/" + e + "/";
                    if (t)
                        localStorage.removeItem(i + t);
                    else
                        for (let o in localStorage)
                            o.includes(i) && localStorage.removeItem(o)
                }
                  , oi = {
                    empty: "empty",
                    exceed: "number of tags exceeded",
                    pattern: "pattern mismatch",
                    duplicate: "already exists",
                    notAllowed: "not allowed"
                }
                  , ni = {
                    wrapper(e, t) {
                        return `<tags class="${t.classNames.namespace} ${t.mode ? `${t.classNames[t.mode + "Mode"]}` : ""} ${e.className}"
                    ${t.readonly ? "readonly" : ""}
                    ${t.disabled ? "disabled" : ""}
                    ${t.required ? "required" : ""}
                    ${t.mode === "select" ? "spellcheck='false'" : ""}
                    tabIndex="-1">
            <span ${!t.readonly && t.userInput ? "contenteditable" : ""} tabIndex="0" data-placeholder="${t.placeholder || "&#8203;"}" aria-placeholder="${t.placeholder || ""}"
                class="${t.classNames.input}"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="${t.mode == "mix"}"></span>
                &#8203;
        </tags>`
                    },
                    tag(e, {settings: t}) {
                        return `<tag title="${e.title || e.value}"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="${t.a11y.focusableTags ? 0 : -1}"
                    class="${t.classNames.tag} ${e.class || ""}"
                    ${this.getAttributes(e)}>
            <x title='' class="${t.classNames.tagX}" role='button' aria-label='remove tag'></x>
            <div>
                <span class="${t.classNames.tagText}">${e[t.tagTextProp] || e.value}</span>
            </div>
        </tag>`
                    },
                    dropdown(e) {
                        var t = e.dropdown
                          , i = t.position == "manual"
                          , o = `${e.classNames.dropdown}`;
                        return `<div class="${i ? "" : o} ${t.classname}" role="listbox" aria-labelledby="dropdown">
                    <div data-selector='tagify-suggestions-wrapper' class="${e.classNames.dropdownWrapper}"></div>
                </div>`
                    },
                    dropdownContent(e) {
                        var t = this.settings
                          , i = this.state.dropdown.suggestions;
                        return `
            ${t.templates.dropdownHeader.call(this, i)}
            ${e}
            ${t.templates.dropdownFooter.call(this, i)}
        `
                    },
                    dropdownItem(e) {
                        return `<div ${this.getAttributes(e)}
                    class='${this.settings.classNames.dropdownItem} ${e.class ? e.class : ""}'
                    tabindex="0"
                    role="option">${e.mappedValue || e.value}</div>`
                    },
                    dropdownHeader(e) {
                        return `<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`
                    },
                    dropdownFooter(e) {
                        var t = e.length - this.settings.dropdown.maxItems;
                        return t > 0 ? `<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">
                ${t} more items. Refine your search.
            </footer>` : ""
                    },
                    dropdownItemNoMatch: null
                };
                function ai(e) {
                    var t = document.createTextNode("");
                    function i(o, a, r) {
                        r && a.split(/\s+/g).forEach(s=>t[o + "EventListener"].call(t, s, r))
                    }
                    return {
                        off(o, a) {
                            return i("remove", o, a),
                            this
                        },
                        on(o, a) {
                            return a && typeof a == "function" && i("add", o, a),
                            this
                        },
                        trigger(o, a, r) {
                            var s;
                            if (r = r || {
                                cloneData: !0
                            },
                            !!o)
                                if (e.settings.isJQueryPlugin)
                                    o == "remove" && (o = "removeTag"),
                                    jQuery(e.DOM.originalInput).triggerHandler(o, [a]);
                                else {
                                    try {
                                        var l = typeof a == "object" ? a : {
                                            value: a
                                        };
                                        if (l = r.cloneData ? N({}, l) : l,
                                        l.tagify = this,
                                        a.event && (l.event = this.cloneEvent(a.event)),
                                        a instanceof Object)
                                            for (var u in a)
                                                a[u]instanceof HTMLElement && (l[u] = a[u]);
                                        s = new CustomEvent(o,{
                                            detail: l
                                        })
                                    } catch (c) {
                                        console.warn(c)
                                    }
                                    t.dispatchEvent(s)
                                }
                        }
                    }
                }
                var ot;
                function ri() {
                    if (!this.settings.mixMode.integrated) {
                        var e = this.DOM.originalInput
                          , t = this.state.lastOriginalValueReported !== e.value
                          , i = new CustomEvent("change",{
                            bubbles: !0
                        });
                        t && (this.state.lastOriginalValueReported = e.value,
                        i.simulated = !0,
                        e._valueTracker && e._valueTracker.setValue(Math.random()),
                        e.dispatchEvent(i),
                        this.trigger("change", this.state.lastOriginalValueReported),
                        e.value = this.state.lastOriginalValueReported)
                    }
                }
                const si = {
                    customBinding() {
                        this.customEventsList.forEach(e=>{
                            this.on(e, this.settings.callbacks[e])
                        }
                        )
                    },
                    binding(e=!0) {
                        var t = this.events.callbacks, i, o = e ? "addEventListener" : "removeEventListener";
                        if (!(this.state.mainEvents && e)) {
                            this.state.mainEvents = e,
                            e && !this.listeners.main && (this.events.bindGlobal.call(this),
                            this.settings.isJQueryPlugin && jQuery(this.DOM.originalInput).on("tagify.removeAllTags", this.removeAllTags.bind(this))),
                            i = this.listeners.main = this.listeners.main || {
                                focus: ["input", t.onFocusBlur.bind(this)],
                                keydown: ["input", t.onKeydown.bind(this)],
                                click: ["scope", t.onClickScope.bind(this)],
                                dblclick: ["scope", t.onDoubleClickScope.bind(this)],
                                paste: ["input", t.onPaste.bind(this)],
                                drop: ["input", t.onDrop.bind(this)],
                                compositionstart: ["input", t.onCompositionStart.bind(this)],
                                compositionend: ["input", t.onCompositionEnd.bind(this)]
                            };
                            for (var a in i)
                                this.DOM[i[a][0]][o](a, i[a][1]);
                            clearInterval(this.listeners.main.originalInputValueObserverInterval),
                            this.listeners.main.originalInputValueObserverInterval = setInterval(t.observeOriginalInputValue.bind(this), 500);
                            var r = this.listeners.main.inputMutationObserver || new MutationObserver(t.onInputDOMChange.bind(this));
                            r.disconnect(),
                            this.settings.mode == "mix" && r.observe(this.DOM.input, {
                                childList: !0
                            })
                        }
                    },
                    bindGlobal(e) {
                        var t = this.events.callbacks, i = e ? "removeEventListener" : "addEventListener", o;
                        if (!(!this.listeners || !e && this.listeners.global)) {
                            this.listeners.global = this.listeners.global || [{
                                type: this.isIE ? "keydown" : "input",
                                target: this.DOM.input,
                                cb: t[this.isIE ? "onInputIE" : "onInput"].bind(this)
                            }, {
                                type: "keydown",
                                target: window,
                                cb: t.onWindowKeyDown.bind(this)
                            }, {
                                type: "blur",
                                target: this.DOM.input,
                                cb: t.onFocusBlur.bind(this)
                            }, {
                                type: "click",
                                target: document,
                                cb: t.onClickAnywhere.bind(this)
                            }];
                            for (o of this.listeners.global)
                                o.target[i](o.type, o.cb)
                        }
                    },
                    unbindGlobal() {
                        this.events.bindGlobal.call(this, !0)
                    },
                    callbacks: {
                        onFocusBlur(e) {
                            var t, i, o = this.settings, a = e.target ? this.trim(e.target.textContent) : "", r = (i = (t = this.value) == null ? void 0 : t[0]) == null ? void 0 : i[o.tagTextProp], s = e.type, l = o.dropdown.enabled >= 0, u = {
                                relatedTarget: e.relatedTarget
                            }, c = this.state.actions.selectOption && (l || !o.dropdown.closeOnSelect), d = this.state.actions.addNew && l, f = e.relatedTarget && se.call(this, e.relatedTarget) && this.DOM.scope.contains(e.relatedTarget), g;
                            if (s == "blur") {
                                if (e.relatedTarget === this.DOM.scope) {
                                    this.dropdown.hide(),
                                    this.DOM.input.focus();
                                    return
                                }
                                this.postUpdate(),
                                o.onChangeAfterBlur && this.triggerChangeEvent()
                            }
                            if (!(c || d)) {
                                if (this.state.hasFocus = s == "focus" ? +new Date : !1,
                                this.toggleFocusClass(this.state.hasFocus),
                                o.mode == "mix") {
                                    s == "focus" ? this.trigger("focus", u) : e.type == "blur" && (this.trigger("blur", u),
                                    this.loading(!1),
                                    this.dropdown.hide(),
                                    this.state.dropdown.visible = void 0,
                                    this.setStateSelection());
                                    return
                                }
                                if (s == "focus") {
                                    this.trigger("focus", u),
                                    (o.dropdown.enabled === 0 || !o.userInput) && this.dropdown.show(this.value.length ? "" : void 0);
                                    return
                                } else
                                    s == "blur" && (this.trigger("blur", u),
                                    this.loading(!1),
                                    o.mode == "select" && (f && (this.removeTags(),
                                    a = ""),
                                    r === a && (a = "")),
                                    g = a && !this.state.actions.selectOption && o.addTagOnBlur,
                                    g && this.addTags(a, !0));
                                this.DOM.input.removeAttribute("style"),
                                this.dropdown.hide()
                            }
                        },
                        onCompositionStart(e) {
                            this.state.composing = !0
                        },
                        onCompositionEnd(e) {
                            this.state.composing = !1
                        },
                        onWindowKeyDown(e) {
                            var t = document.activeElement, i = se.call(this, t), o = i && this.DOM.scope.contains(document.activeElement), a = o && t.hasAttribute("readonly"), r;
                            if (!(!o || a))
                                switch (r = t.nextElementSibling,
                                e.key) {
                                case "Backspace":
                                    {
                                        this.settings.readonly || (this.removeTags(t),
                                        (r || this.DOM.input).focus());
                                        break
                                    }
                                case "Enter":
                                    {
                                        setTimeout(this.editTag.bind(this), 0, t);
                                        break
                                    }
                                }
                        },
                        onKeydown(e) {
                            var t = this.settings;
                            if (!(this.state.composing || !t.userInput)) {
                                t.mode == "select" && t.enforceWhitelist && this.value.length && e.key != "Tab" && e.preventDefault();
                                var i = this.trim(e.target.textContent);
                                if (this.trigger("keydown", {
                                    event: e
                                }),
                                t.mode == "mix") {
                                    switch (e.key) {
                                    case "Left":
                                    case "ArrowLeft":
                                        {
                                            this.state.actions.ArrowLeft = !0;
                                            break
                                        }
                                    case "Delete":
                                    case "Backspace":
                                        {
                                            if (this.state.editing)
                                                return;
                                            var o = document.getSelection()
                                              , a = e.key == "Delete" && o.anchorOffset == (o.anchorNode.length || 0)
                                              , r = o.anchorNode.previousSibling
                                              , s = o.anchorNode.nodeType == 1 || !o.anchorOffset && r && r.nodeType == 1 && o.anchorNode.previousSibling;
                                            Ze(this.DOM.input.innerHTML);
                                            var l = this.getTagElms(), u = o.anchorNode.length === 1 && o.anchorNode.nodeValue == String.fromCharCode(8203), c, d, f;
                                            if (t.backspace == "edit" && s) {
                                                c = o.anchorNode.nodeType == 1 ? null : o.anchorNode.previousElementSibling,
                                                setTimeout(this.editTag.bind(this), 0, c),
                                                e.preventDefault();
                                                return
                                            }
                                            if (Re() && s instanceof Element) {
                                                f = Je(s),
                                                s.hasAttribute("readonly") || s.remove(),
                                                this.DOM.input.focus(),
                                                setTimeout(()=>{
                                                    ne(f),
                                                    this.DOM.input.click()
                                                }
                                                );
                                                return
                                            }
                                            if (o.anchorNode.nodeName == "BR")
                                                return;
                                            if ((a || s) && o.anchorNode.nodeType == 1 ? o.anchorOffset == 0 ? d = a ? l[0] : null : d = l[Math.min(l.length, o.anchorOffset) - 1] : a ? d = o.anchorNode.nextElementSibling : s instanceof Element && (d = s),
                                            o.anchorNode.nodeType == 3 && !o.anchorNode.nodeValue && o.anchorNode.previousElementSibling && e.preventDefault(),
                                            (s || a) && !t.backspace) {
                                                e.preventDefault();
                                                return
                                            }
                                            if (o.type != "Range" && !o.anchorOffset && o.anchorNode == this.DOM.input && e.key != "Delete") {
                                                e.preventDefault();
                                                return
                                            }
                                            if (o.type != "Range" && d && d.hasAttribute("readonly")) {
                                                ne(Je(d));
                                                return
                                            }
                                            e.key == "Delete" && u && I(o.anchorNode.nextSibling) && this.removeTags(o.anchorNode.nextSibling),
                                            clearTimeout(ot),
                                            ot = setTimeout(()=>{
                                                var g = document.getSelection();
                                                Ze(this.DOM.input.innerHTML),
                                                !a && g.anchorNode.previousSibling,
                                                this.value = [].map.call(l, (h,x)=>{
                                                    var m = I(h);
                                                    if (h.parentNode || m.readonly)
                                                        return m;
                                                    this.trigger("remove", {
                                                        tag: h,
                                                        index: x,
                                                        data: m
                                                    })
                                                }
                                                ).filter(h=>h)
                                            }
                                            , 20);
                                            break
                                        }
                                    }
                                    return !0
                                }
                                switch (e.key) {
                                case "Backspace":
                                    t.mode == "select" && t.enforceWhitelist && this.value.length ? this.removeTags() : (!this.state.dropdown.visible || t.dropdown.position == "manual") && (e.target.textContent == "" || i.charCodeAt(0) == 8203) && (t.backspace === !0 ? this.removeTags() : t.backspace == "edit" && setTimeout(this.editTag.bind(this), 0));
                                    break;
                                case "Esc":
                                case "Escape":
                                    if (this.state.dropdown.visible)
                                        return;
                                    e.target.blur();
                                    break;
                                case "Down":
                                case "ArrowDown":
                                    this.state.dropdown.visible || this.dropdown.show();
                                    break;
                                case "ArrowRight":
                                    {
                                        let g = this.state.inputSuggestion || this.state.ddItemData;
                                        if (g && t.autoComplete.rightKey) {
                                            this.addTags([g], !0);
                                            return
                                        }
                                        break
                                    }
                                case "Tab":
                                    {
                                        let g = t.mode == "select";
                                        if (i && !g)
                                            e.preventDefault();
                                        else
                                            return !0
                                    }
                                case "Enter":
                                    if (this.state.dropdown.visible && t.dropdown.position != "manual")
                                        return;
                                    e.preventDefault(),
                                    setTimeout(()=>{
                                        this.state.dropdown.visible || this.state.actions.selectOption || this.addTags(i, !0)
                                    }
                                    )
                                }
                            }
                        },
                        onInput(e) {
                            this.postUpdate();
                            var t = this.settings;
                            if (t.mode == "mix")
                                return this.events.callbacks.onMixTagsInput.call(this, e);
                            var i = this.input.normalize.call(this)
                              , o = i.length >= t.dropdown.enabled
                              , a = {
                                value: i,
                                inputElm: this.DOM.input
                            }
                              , r = this.validateTag({
                                value: i
                            });
                            t.mode == "select" && this.toggleScopeValidation(r),
                            a.isValid = r,
                            this.state.inputText != i && (this.input.set.call(this, i, !1),
                            i.search(t.delimiters) != -1 ? this.addTags(i) && this.input.set.call(this) : t.dropdown.enabled >= 0 && this.dropdown[o ? "show" : "hide"](i),
                            this.trigger("input", a))
                        },
                        onMixTagsInput(e) {
                            var t, i, o, a, r, s, l = this.settings, u = this.value.length, c, d, f = this.getTagElms(), g = document.createDocumentFragment(), h = window.getSelection().getRangeAt(0), x = [].map.call(f, m=>I(m).value);
                            if (e.inputType == "deleteContentBackward" && Re() && this.events.callbacks.onKeydown.call(this, {
                                target: e.target,
                                key: "Backspace"
                            }),
                            it(this.getTagElms()),
                            this.value.slice().forEach(m=>{
                                m.readonly && !x.includes(m.value) && g.appendChild(this.createTagElem(m))
                            }
                            ),
                            g.childNodes.length && (h.insertNode(g),
                            this.setRangeAtStartEnd(!1, g.lastChild)),
                            f.length != u) {
                                this.value = [].map.call(this.getTagElms(), m=>I(m)),
                                this.update({
                                    withoutChangeEvent: !0
                                });
                                return
                            }
                            if (this.hasMaxTags())
                                return !0;
                            if (window.getSelection && (s = window.getSelection(),
                            s.rangeCount > 0 && s.anchorNode.nodeType == 3)) {
                                if (h = s.getRangeAt(0).cloneRange(),
                                h.collapse(!0),
                                h.setStart(s.focusNode, 0),
                                t = h.toString().slice(0, h.endOffset),
                                o = t.split(l.pattern).length - 1,
                                i = t.match(l.pattern),
                                i && (a = t.slice(t.lastIndexOf(i[i.length - 1]))),
                                a) {
                                    if (this.state.actions.ArrowLeft = !1,
                                    this.state.tag = {
                                        prefix: a.match(l.pattern)[0],
                                        value: a.replace(l.pattern, "")
                                    },
                                    this.state.tag.baseOffset = s.baseOffset - this.state.tag.value.length,
                                    d = this.state.tag.value.match(l.delimiters),
                                    d) {
                                        this.state.tag.value = this.state.tag.value.replace(l.delimiters, ""),
                                        this.state.tag.delimiters = d[0],
                                        this.addTags(this.state.tag.value, l.dropdown.clearOnSelect),
                                        this.dropdown.hide();
                                        return
                                    }
                                    r = this.state.tag.value.length >= l.dropdown.enabled;
                                    try {
                                        c = this.state.flaggedTags[this.state.tag.baseOffset],
                                        c = c.prefix == this.state.tag.prefix && c.value[0] == this.state.tag.value[0],
                                        this.state.flaggedTags[this.state.tag.baseOffset] && !this.state.tag.value && delete this.state.flaggedTags[this.state.tag.baseOffset]
                                    } catch {}
                                    (c || o < this.state.mixMode.matchedPatternCount) && (r = !1)
                                } else
                                    this.state.flaggedTags = {};
                                this.state.mixMode.matchedPatternCount = o
                            }
                            setTimeout(()=>{
                                this.update({
                                    withoutChangeEvent: !0
                                }),
                                this.trigger("input", N({}, this.state.tag, {
                                    textContent: this.DOM.input.textContent
                                })),
                                this.state.tag && this.dropdown[r ? "show" : "hide"](this.state.tag.value)
                            }
                            , 10)
                        },
                        onInputIE(e) {
                            var t = this;
                            setTimeout(function() {
                                t.events.callbacks.onInput.call(t, e)
                            })
                        },
                        observeOriginalInputValue() {
                            this.DOM.originalInput.parentNode || this.destroy(),
                            this.DOM.originalInput.value != this.DOM.originalInput.tagifyValue && this.loadOriginalValues()
                        },
                        onClickAnywhere(e) {
                            e.target != this.DOM.scope && !this.DOM.scope.contains(e.target) && (this.toggleFocusClass(!1),
                            this.state.hasFocus = !1)
                        },
                        onClickScope(e) {
                            var t = this.settings
                              , i = e.target.closest("." + t.classNames.tag)
                              , o = +new Date - this.state.hasFocus;
                            if (e.target == this.DOM.scope) {
                                this.DOM.input.focus();
                                return
                            } else if (e.target.classList.contains(t.classNames.tagX)) {
                                this.removeTags(e.target.parentNode);
                                return
                            } else if (i) {
                                this.trigger("click", {
                                    tag: i,
                                    index: this.getNodeIndex(i),
                                    data: I(i),
                                    event: e
                                }),
                                (t.editTags === 1 || t.editTags.clicks === 1) && this.events.callbacks.onDoubleClickScope.call(this, e);
                                return
                            } else if (e.target == this.DOM.input && (t.mode == "mix" && this.fixFirefoxLastTagNoCaret(),
                            o > 500)) {
                                this.state.dropdown.visible ? this.dropdown.hide() : t.dropdown.enabled === 0 && t.mode != "mix" && this.dropdown.show(this.value.length ? "" : void 0);
                                return
                            }
                            t.mode == "select" && t.dropdown.enabled === 0 && !this.state.dropdown.visible && this.dropdown.show()
                        },
                        onPaste(e) {
                            e.preventDefault();
                            var t = this.settings
                              , i = t.mode == "select" && t.enforceWhitelist;
                            if (i || !t.userInput)
                                return !1;
                            var o, a;
                            t.readonly || (o = e.clipboardData || window.clipboardData,
                            a = o.getData("Text"),
                            t.hooks.beforePaste(e, {
                                tagify: this,
                                pastedText: a,
                                clipboardData: o
                            }).then(r=>{
                                r === void 0 && (r = a),
                                r && (this.injectAtCaret(r, window.getSelection().getRangeAt(0)),
                                this.settings.mode == "mix" ? this.events.callbacks.onMixTagsInput.call(this, e) : this.settings.pasteAsTags ? this.addTags(this.state.inputText + r, !0) : this.state.inputText = r)
                            }
                            ).catch(r=>r))
                        },
                        onDrop(e) {
                            e.preventDefault()
                        },
                        onEditTagInput(e, t) {
                            var i = e.closest("." + this.settings.classNames.tag)
                              , o = this.getNodeIndex(i)
                              , a = I(i)
                              , r = this.input.normalize.call(this, e)
                              , s = {
                                [this.settings.tagTextProp]: r,
                                __tagId: a.__tagId
                            }
                              , l = this.validateTag(s)
                              , u = this.editTagChangeDetected(N(a, s));
                            !u && e.originalIsValid === !0 && (l = !0),
                            i.classList.toggle(this.settings.classNames.tagInvalid, l !== !0),
                            a.__isValid = l,
                            i.title = l === !0 ? a.title || a.value : l,
                            r.length >= this.settings.dropdown.enabled && (this.state.editing && (this.state.editing.value = r),
                            this.dropdown.show(r)),
                            this.trigger("edit:input", {
                                tag: i,
                                index: o,
                                data: N({}, this.value[o], {
                                    newValue: r
                                }),
                                event: t
                            })
                        },
                        onEditTagPaste(e, t) {
                            var i = t.clipboardData || window.clipboardData
                              , o = i.getData("Text");
                            t.preventDefault();
                            var a = tt(o);
                            this.setRangeAtStartEnd(!1, a)
                        },
                        onEditTagFocus(e) {
                            this.state.editing = {
                                scope: e,
                                input: e.querySelector("[contenteditable]")
                            }
                        },
                        onEditTagBlur(e) {
                            if (this.state.hasFocus || this.toggleFocusClass(),
                            !!this.DOM.scope.contains(e)) {
                                var t = this.settings, i = e.closest("." + t.classNames.tag), o = I(i), a = this.input.normalize.call(this, e), r = {
                                    [t.tagTextProp]: a,
                                    __tagId: o.__tagId
                                }, s = o.__originalData, l = this.editTagChangeDetected(N(o, r)), u = this.validateTag(r), c, d;
                                if (!a) {
                                    this.onEditTagDone(i);
                                    return
                                }
                                if (!l) {
                                    this.onEditTagDone(i, s);
                                    return
                                }
                                if (c = this.hasMaxTags(),
                                d = N({}, s, {
                                    [t.tagTextProp]: this.trim(a),
                                    __isValid: u
                                }),
                                t.transformTag.call(this, d, s),
                                u = (!c || s.__isValid === !0) && this.validateTag(d),
                                u !== !0) {
                                    if (this.trigger("invalid", {
                                        data: d,
                                        tag: i,
                                        message: u
                                    }),
                                    t.editTags.keepInvalid)
                                        return;
                                    t.keepInvalidTags ? d.__isValid = u : d = s
                                } else
                                    t.keepInvalidTags && (delete d.title,
                                    delete d["aria-invalid"],
                                    delete d.class);
                                this.onEditTagDone(i, d)
                            }
                        },
                        onEditTagkeydown(e, t) {
                            if (!this.state.composing)
                                switch (this.trigger("edit:keydown", {
                                    event: e
                                }),
                                e.key) {
                                case "Esc":
                                case "Escape":
                                    t.parentNode.replaceChild(t.__tagifyTagData.__originalHTML, t),
                                    this.state.editing = !1;
                                case "Enter":
                                case "Tab":
                                    e.preventDefault(),
                                    e.target.blur()
                                }
                        },
                        onDoubleClickScope(e) {
                            var t = e.target.closest("." + this.settings.classNames.tag), i = I(t), o = this.settings, a, r;
                            !t || !o.userInput || i.editable === !1 || (a = t.classList.contains(this.settings.classNames.tagEditing),
                            r = t.hasAttribute("readonly"),
                            o.mode != "select" && !o.readonly && !a && !r && this.settings.editTags && this.editTag(t),
                            this.toggleFocusClass(!0),
                            this.trigger("dblclick", {
                                tag: t,
                                index: this.getNodeIndex(t),
                                data: I(t)
                            }))
                        },
                        onInputDOMChange(e) {
                            e.forEach(i=>{
                                i.addedNodes.forEach(o=>{
                                    var a;
                                    if (o.outerHTML == "<div><br></div>")
                                        o.replaceWith(document.createElement("br"));
                                    else if (o.nodeType == 1 && o.querySelector(this.settings.classNames.tagSelector)) {
                                        let r = document.createTextNode("");
                                        o.childNodes[0].nodeType == 3 && o.previousSibling.nodeName != "BR" && (r = document.createTextNode(`
`)),
                                        o.replaceWith(r, ...[...o.childNodes].slice(0, -1)),
                                        ne(r)
                                    } else if (se.call(this, o))
                                        if (((a = o.previousSibling) == null ? void 0 : a.nodeType) == 3 && !o.previousSibling.textContent && o.previousSibling.remove(),
                                        o.previousSibling && o.previousSibling.nodeName == "BR") {
                                            o.previousSibling.replaceWith(`
` + Fe);
                                            let r = o.nextSibling
                                              , s = "";
                                            for (; r; )
                                                s += r.textContent,
                                                r = r.nextSibling;
                                            s.trim() && ne(o.previousSibling)
                                        } else
                                            (!o.previousSibling || I(o.previousSibling)) && o.before(Fe)
                                }
                                ),
                                i.removedNodes.forEach(o=>{
                                    o && o.nodeName == "BR" && se.call(this, t) && (this.removeTags(t),
                                    this.fixFirefoxLastTagNoCaret())
                                }
                                )
                            }
                            );
                            var t = this.DOM.input.lastChild;
                            t && t.nodeValue == "" && t.remove(),
                            (!t || t.nodeName != "BR") && this.DOM.input.appendChild(document.createElement("br"))
                        }
                    }
                };
                function we(e, t) {
                    if (!e) {
                        console.warn("Tagify:", "input element not found", e);
                        const i = new Proxy(this,{
                            get() {
                                return ()=>i
                            }
                        });
                        return i
                    }
                    if (e.__tagify)
                        return console.warn("Tagify: ", "input element is already Tagified - Same instance is returned.", e),
                        e.__tagify;
                    N(this, ai(this)),
                    this.isFirefox = /firefox|fxios/i.test(navigator.userAgent) && !/seamonkey/i.test(navigator.userAgent),
                    this.isIE = window.document.documentMode,
                    t = t || {},
                    this.getPersistedData = ei(t.id),
                    this.setPersistedData = ti(t.id),
                    this.clearPersistedData = ii(t.id),
                    this.applySettings(e, t),
                    this.state = {
                        inputText: "",
                        editing: !1,
                        composing: !1,
                        actions: {},
                        mixMode: {},
                        dropdown: {},
                        flaggedTags: {}
                    },
                    this.value = [],
                    this.listeners = {},
                    this.DOM = {},
                    this.build(e),
                    Xt.call(this),
                    this.getCSSVars(),
                    this.loadOriginalValues(),
                    this.events.customBinding.call(this),
                    this.events.binding.call(this),
                    e.autofocus && this.DOM.input.focus(),
                    e.__tagify = this
                }
                we.prototype = {
                    _dropdown: Rt,
                    getSetTagData: I,
                    helpers: {
                        sameStr: ue,
                        removeCollectionProp: Ge,
                        omit: Ae,
                        isObject: X,
                        parseHTML: Ie,
                        escapeHTML: oe,
                        extend: N,
                        concatWithoutDups: Xe,
                        getUID: et,
                        isNodeTag: se
                    },
                    customEventsList: ["change", "add", "remove", "invalid", "input", "click", "keydown", "focus", "blur", "edit:input", "edit:beforeUpdate", "edit:updated", "edit:start", "edit:keydown", "dropdown:show", "dropdown:hide", "dropdown:select", "dropdown:updated", "dropdown:noMatch", "dropdown:scroll"],
                    dataProps: ["__isValid", "__removed", "__originalData", "__originalHTML", "__tagId"],
                    trim(e) {
                        return this.settings.trim && e && typeof e == "string" ? e.trim() : e
                    },
                    parseHTML: Ie,
                    templates: ni,
                    parseTemplate(e, t) {
                        return e = this.settings.templates[e] || e,
                        Ie(e.apply(this, t))
                    },
                    set whitelist(e) {
                        const t = e && Array.isArray(e);
                        this.settings.whitelist = t ? e : [],
                        this.setPersistedData(t ? e : [], "whitelist")
                    },
                    get whitelist() {
                        return this.settings.whitelist
                    },
                    generateClassSelectors(e) {
                        for (let t in e) {
                            let i = t;
                            Object.defineProperty(e, i + "Selector", {
                                get() {
                                    return "." + this[i].split(" ")[0]
                                }
                            })
                        }
                    },
                    applySettings(e, t) {
                        var i, o;
                        Se.templates = this.templates;
                        var a = {
                            dropdown: {
                                position: "text"
                            }
                        }
                          , r = N({}, Se, t.mode == "mix" ? a : {})
                          , s = this.settings = N({}, r, t);
                        if (s.disabled = e.hasAttribute("disabled"),
                        s.readonly = s.readonly || e.hasAttribute("readonly"),
                        s.placeholder = oe(e.getAttribute("placeholder") || s.placeholder || ""),
                        s.required = e.hasAttribute("required"),
                        this.generateClassSelectors(s.classNames),
                        s.dropdown.includeSelectedTags === void 0 && (s.dropdown.includeSelectedTags = s.duplicates),
                        this.isIE && (s.autoComplete = !1),
                        ["whitelist", "blacklist"].forEach(u=>{
                            var c = e.getAttribute("data-" + u);
                            c && (c = c.split(s.delimiters),
                            c instanceof Array && (s[u] = c))
                        }
                        ),
                        "autoComplete"in t && !X(t.autoComplete) && (s.autoComplete = Se.autoComplete,
                        s.autoComplete.enabled = t.autoComplete),
                        s.mode == "mix" && (s.pattern = s.pattern || /@/,
                        s.autoComplete.rightKey = !0,
                        s.delimiters = t.delimiters || null,
                        s.tagTextProp && !s.dropdown.searchKeys.includes(s.tagTextProp) && s.dropdown.searchKeys.push(s.tagTextProp)),
                        e.pattern)
                            try {
                                s.pattern = new RegExp(e.pattern)
                            } catch {}
                        if (s.delimiters) {
                            s._delimiters = s.delimiters;
                            try {
                                s.delimiters = new RegExp(this.settings.delimiters,"g")
                            } catch {}
                        }
                        s.disabled && (s.userInput = !1),
                        this.TEXTS = {
                            ...oi,
                            ...s.texts || {}
                        },
                        (s.mode == "select" && !((i = t.dropdown) != null && i.enabled) || !s.userInput) && (s.dropdown.enabled = 0),
                        s.dropdown.appendTarget = ((o = t.dropdown) == null ? void 0 : o.appendTarget) || document.body;
                        let l = this.getPersistedData("whitelist");
                        Array.isArray(l) && (this.whitelist = Array.isArray(s.whitelist) ? Xe(s.whitelist, l) : l)
                    },
                    getAttributes(e) {
                        var t = this.getCustomAttributes(e), i = "", o;
                        for (o in t)
                            i += " " + o + (e[o] !== void 0 ? `="${t[o]}"` : "");
                        return i
                    },
                    getCustomAttributes(e) {
                        if (!X(e))
                            return "";
                        var t = {}, i;
                        for (i in e)
                            i.slice(0, 2) != "__" && i != "class" && e.hasOwnProperty(i) && e[i] !== void 0 && (t[i] = oe(e[i]));
                        return t
                    },
                    setStateSelection() {
                        var e = window.getSelection()
                          , t = {
                            anchorOffset: e.anchorOffset,
                            anchorNode: e.anchorNode,
                            range: e.getRangeAt && e.rangeCount && e.getRangeAt(0)
                        };
                        return this.state.selection = t,
                        t
                    },
                    getCSSVars() {
                        var e = getComputedStyle(this.DOM.scope, null);
                        const t = o=>e.getPropertyValue("--" + o);
                        function i(o) {
                            if (!o)
                                return {};
                            o = o.trim().split(" ")[0];
                            var a = o.split(/\d+/g).filter(s=>s).pop().trim()
                              , r = +o.split(a).filter(s=>s)[0].trim();
                            return {
                                value: r,
                                unit: a
                            }
                        }
                        this.CSSVars = {
                            tagHideTransition: (({value: o, unit: a})=>a == "s" ? o * 1e3 : o)(i(t("tag-hide-transition")))
                        }
                    },
                    build(e) {
                        var t = this.DOM;
                        this.settings.mixMode.integrated ? (t.originalInput = null,
                        t.scope = e,
                        t.input = e) : (t.originalInput = e,
                        t.originalInput_tabIndex = e.tabIndex,
                        t.scope = this.parseTemplate("wrapper", [e, this.settings]),
                        t.input = t.scope.querySelector(this.settings.classNames.inputSelector),
                        e.parentNode.insertBefore(t.scope, e),
                        e.tabIndex = -1)
                    },
                    destroy() {
                        this.events.unbindGlobal.call(this),
                        this.DOM.scope.parentNode.removeChild(this.DOM.scope),
                        this.DOM.originalInput.tabIndex = this.DOM.originalInput_tabIndex,
                        delete this.DOM.originalInput.__tagify,
                        this.dropdown.hide(!0),
                        clearTimeout(this.dropdownHide__bindEventsTimeout),
                        clearInterval(this.listeners.main.originalInputValueObserverInterval)
                    },
                    loadOriginalValues(e) {
                        var t, i = this.settings;
                        if (this.state.blockChangeEvent = !0,
                        e === void 0) {
                            const o = this.getPersistedData("value");
                            o && !this.DOM.originalInput.value ? e = o : e = i.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value
                        }
                        if (this.removeAllTags(),
                        e)
                            if (i.mode == "mix")
                                this.parseMixTags(e),
                                t = this.DOM.input.lastChild,
                                (!t || t.tagName != "BR") && this.DOM.input.insertAdjacentHTML("beforeend", "<br>");
                            else {
                                try {
                                    JSON.parse(e)instanceof Array && (e = JSON.parse(e))
                                } catch {}
                                this.addTags(e, !0).forEach(o=>o && o.classList.add(i.classNames.tagNoAnimation))
                            }
                        else
                            this.postUpdate();
                        this.state.lastOriginalValueReported = i.mixMode.integrated ? "" : this.DOM.originalInput.value
                    },
                    cloneEvent(e) {
                        var t = {};
                        for (var i in e)
                            i != "path" && (t[i] = e[i]);
                        return t
                    },
                    loading(e) {
                        return this.state.isLoading = e,
                        this.DOM.scope.classList[e ? "add" : "remove"](this.settings.classNames.scopeLoading),
                        this
                    },
                    tagLoading(e, t) {
                        return e && e.classList[t ? "add" : "remove"](this.settings.classNames.tagLoading),
                        this
                    },
                    toggleClass(e, t) {
                        typeof e == "string" && this.DOM.scope.classList.toggle(e, t)
                    },
                    toggleScopeValidation(e) {
                        var t = e === !0 || e === void 0;
                        !this.settings.required && e && e === this.TEXTS.empty && (t = !0),
                        this.toggleClass(this.settings.classNames.tagInvalid, !t),
                        this.DOM.scope.title = t ? "" : e
                    },
                    toggleFocusClass(e) {
                        this.toggleClass(this.settings.classNames.focus, !!e)
                    },
                    triggerChangeEvent: ri,
                    events: si,
                    fixFirefoxLastTagNoCaret() {},
                    setRangeAtStartEnd(e, t) {
                        if (t) {
                            e = typeof e == "number" ? e : !!e,
                            t = t.lastChild || t;
                            var i = document.getSelection();
                            if (i.focusNode instanceof Element && !this.DOM.input.contains(i.focusNode))
                                return !0;
                            try {
                                i.rangeCount >= 1 && ["Start", "End"].forEach(o=>i.getRangeAt(0)["set" + o](t, e || t.length))
                            } catch {}
                        }
                    },
                    insertAfterTag(e, t) {
                        if (t = t || this.settings.mixMode.insertAfterTag,
                        !(!e || !e.parentNode || !t))
                            return t = typeof t == "string" ? document.createTextNode(t) : t,
                            e.parentNode.insertBefore(t, e.nextSibling),
                            t
                    },
                    editTagChangeDetected(e) {
                        var t = e.__originalData;
                        for (var i in t)
                            if (!this.dataProps.includes(i) && e[i] != t[i])
                                return !0;
                        return !1
                    },
                    getTagTextNode(e) {
                        return e.querySelector(this.settings.classNames.tagTextSelector)
                    },
                    setTagTextNode(e, t) {
                        this.getTagTextNode(e).innerHTML = oe(t)
                    },
                    editTag(e, t) {
                        e = e || this.getLastTag(),
                        t = t || {},
                        this.dropdown.hide();
                        var i = this.settings
                          , o = this.getTagTextNode(e)
                          , a = this.getNodeIndex(e)
                          , r = I(e)
                          , s = this.events.callbacks
                          , l = this
                          , u = !0
                          , c = function() {
                            setTimeout(()=>s.onEditTagBlur.call(l, l.getTagTextNode(e)))
                        };
                        if (!o) {
                            console.warn("Cannot find element in Tag template: .", i.classNames.tagTextSelector);
                            return
                        }
                        if (!(r instanceof Object && "editable"in r && !r.editable))
                            return r = I(e, {
                                __originalData: N({}, r),
                                __originalHTML: e.cloneNode(!0)
                            }),
                            I(r.__originalHTML, r.__originalData),
                            o.setAttribute("contenteditable", !0),
                            e.classList.add(i.classNames.tagEditing),
                            o.addEventListener("focus", s.onEditTagFocus.bind(this, e)),
                            o.addEventListener("blur", c),
                            o.addEventListener("input", s.onEditTagInput.bind(this, o)),
                            o.addEventListener("paste", s.onEditTagPaste.bind(this, o)),
                            o.addEventListener("keydown", d=>s.onEditTagkeydown.call(this, d, e)),
                            o.addEventListener("compositionstart", s.onCompositionStart.bind(this)),
                            o.addEventListener("compositionend", s.onCompositionEnd.bind(this)),
                            t.skipValidation || (u = this.editTagToggleValidity(e)),
                            o.originalIsValid = u,
                            this.trigger("edit:start", {
                                tag: e,
                                index: a,
                                data: r,
                                isValid: u
                            }),
                            o.focus(),
                            this.setRangeAtStartEnd(!1, o),
                            this
                    },
                    editTagToggleValidity(e, i) {
                        var i = i || I(e), o;
                        if (!i) {
                            console.warn("tag has no data: ", e, i);
                            return
                        }
                        return o = !("__isValid"in i) || i.__isValid === !0,
                        o || this.removeTagsFromValue(e),
                        this.update(),
                        e.classList.toggle(this.settings.classNames.tagNotAllowed, !o),
                        i.__isValid = o,
                        i.__isValid
                    },
                    onEditTagDone(e, t) {
                        e = e || this.state.editing.scope,
                        t = t || {};
                        var i = {
                            tag: e,
                            index: this.getNodeIndex(e),
                            previousData: I(e),
                            data: t
                        };
                        this.trigger("edit:beforeUpdate", i, {
                            cloneData: !1
                        }),
                        this.state.editing = !1,
                        delete t.__originalData,
                        delete t.__originalHTML,
                        e && t[this.settings.tagTextProp] ? (e = this.replaceTag(e, t),
                        this.editTagToggleValidity(e, t),
                        this.settings.a11y.focusableTags ? e.focus() : ne(e)) : e && this.removeTags(e),
                        this.trigger("edit:updated", i),
                        this.dropdown.hide(),
                        this.settings.keepInvalidTags && this.reCheckInvalidTags()
                    },
                    replaceTag(e, t) {
                        (!t || !t.value) && (t = e.__tagifyTagData),
                        t.__isValid && t.__isValid != !0 && N(t, this.getInvalidTagAttrs(t, t.__isValid));
                        var i = this.createTagElem(t);
                        return e.parentNode.replaceChild(i, e),
                        this.updateValueByDOMTags(),
                        i
                    },
                    updateValueByDOMTags() {
                        this.value.length = 0,
                        [].forEach.call(this.getTagElms(), e=>{
                            e.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0]) || this.value.push(I(e))
                        }
                        ),
                        this.update()
                    },
                    injectAtCaret(e, t) {
                        var i;
                        return t = t || ((i = this.state.selection) == null ? void 0 : i.range),
                        !t && e ? (this.appendMixTags(e),
                        this) : (tt(e, t),
                        this.setRangeAtStartEnd(!1, e),
                        this.updateValueByDOMTags(),
                        this.update(),
                        this)
                    },
                    input: {
                        set(e="", t=!0) {
                            var i = this.settings.dropdown.closeOnSelect;
                            this.state.inputText = e,
                            t && (this.DOM.input.innerHTML = oe("" + e)),
                            !e && i && this.dropdown.hide.bind(this),
                            this.input.autocomplete.suggest.call(this),
                            this.input.validate.call(this)
                        },
                        raw() {
                            return this.DOM.input.textContent
                        },
                        validate() {
                            var e = !this.state.inputText || this.validateTag({
                                value: this.state.inputText
                            }) === !0;
                            return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid, !e),
                            e
                        },
                        normalize(e) {
                            var t = e || this.DOM.input
                              , i = [];
                            t.childNodes.forEach(o=>o.nodeType == 3 && i.push(o.nodeValue)),
                            i = i.join(`
`);
                            try {
                                i = i.replace(/(?:\r\n|\r|\n)/g, this.settings.delimiters.source.charAt(0))
                            } catch {}
                            return i = i.replace(/\s/g, " "),
                            this.trim(i)
                        },
                        autocomplete: {
                            suggest(e) {
                                if (this.settings.autoComplete.enabled) {
                                    e = e || {
                                        value: ""
                                    },
                                    typeof e == "string" && (e = {
                                        value: e
                                    });
                                    var t = this.dropdown.getMappedValue(e);
                                    if (typeof t != "number") {
                                        var i = t.substr(0, this.state.inputText.length).toLowerCase()
                                          , o = t.substring(this.state.inputText.length);
                                        !t || !this.state.inputText || i != this.state.inputText.toLowerCase() ? (this.DOM.input.removeAttribute("data-suggest"),
                                        delete this.state.inputSuggestion) : (this.DOM.input.setAttribute("data-suggest", o),
                                        this.state.inputSuggestion = e)
                                    }
                                }
                            },
                            set(e) {
                                var t = this.DOM.input.getAttribute("data-suggest")
                                  , i = e || (t ? this.state.inputText + t : null);
                                return i ? (this.settings.mode == "mix" ? this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix + i)) : (this.input.set.call(this, i),
                                this.setRangeAtStartEnd(!1, this.DOM.input)),
                                this.input.autocomplete.suggest.call(this),
                                this.dropdown.hide(),
                                !0) : !1
                            }
                        }
                    },
                    getTagIdx(e) {
                        return this.value.findIndex(t=>t.__tagId == (e || {}).__tagId)
                    },
                    getNodeIndex(e) {
                        var t = 0;
                        if (e)
                            for (; e = e.previousElementSibling; )
                                t++;
                        return t
                    },
                    getTagElms(...e) {
                        var t = "." + [...this.settings.classNames.tag.split(" "), ...e].join(".");
                        return [].slice.call(this.DOM.scope.querySelectorAll(t))
                    },
                    getLastTag() {
                        var e = this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);
                        return e[e.length - 1]
                    },
                    isTagDuplicate(e, t, i) {
                        var o = 0
                          , a = this.settings;
                        if (a.mode == "select")
                            return !1;
                        for (let r of this.value)
                            ue(this.trim("" + e), r.value, t) && i != r.__tagId && o++;
                        return o
                    },
                    getTagIndexByValue(e) {
                        var t = []
                          , i = this.settings.dropdown.caseSensitive;
                        return this.getTagElms().forEach((o,a)=>{
                            o.__tagifyTagData && ue(this.trim(o.__tagifyTagData.value), e, i) && t.push(a)
                        }
                        ),
                        t
                    },
                    getTagElmByValue(e) {
                        var t = this.getTagIndexByValue(e)[0];
                        return this.getTagElms()[t]
                    },
                    flashTag(e) {
                        e && (e.classList.add(this.settings.classNames.tagFlash),
                        setTimeout(()=>{
                            e.classList.remove(this.settings.classNames.tagFlash)
                        }
                        , 100))
                    },
                    isTagBlacklisted(e) {
                        return e = this.trim(e.toLowerCase()),
                        this.settings.blacklist.filter(t=>("" + t).toLowerCase() == e).length
                    },
                    isTagWhitelisted(e) {
                        return !!this.getWhitelistItem(e)
                    },
                    getWhitelistItem(e, a, s) {
                        var o, a = a || "value", r = this.settings, s = s || r.whitelist;
                        return s.some(l=>{
                            var u = typeof l == "string" ? l : l[a] || l.value
                              , c = ue(u, e, r.dropdown.caseSensitive, r.trim);
                            if (c)
                                return o = typeof l == "string" ? {
                                    value: l
                                } : l,
                                !0
                        }
                        ),
                        !o && a == "value" && r.tagTextProp != "value" && (o = this.getWhitelistItem(e, r.tagTextProp, s)),
                        o
                    },
                    validateTag(e) {
                        var t = this.settings
                          , i = "value"in e ? "value" : t.tagTextProp
                          , o = this.trim(e[i] + "");
                        return (e[i] + "").trim() ? t.mode != "mix" && t.pattern && t.pattern instanceof RegExp && !t.pattern.test(o) ? this.TEXTS.pattern : !t.duplicates && this.isTagDuplicate(o, t.dropdown.caseSensitive, e.__tagId) ? this.TEXTS.duplicate : this.isTagBlacklisted(o) || t.enforceWhitelist && !this.isTagWhitelisted(o) ? this.TEXTS.notAllowed : t.validate ? t.validate(e) : !0 : this.TEXTS.empty
                    },
                    getInvalidTagAttrs(e, t) {
                        return {
                            "aria-invalid": !0,
                            class: `${e.class || ""} ${this.settings.classNames.tagNotAllowed}`.trim(),
                            title: t
                        }
                    },
                    hasMaxTags() {
                        return this.value.length >= this.settings.maxTags ? this.TEXTS.exceed : !1
                    },
                    setReadonly(e, t) {
                        var i = this.settings;
                        document.activeElement.blur(),
                        i[t || "readonly"] = e,
                        this.DOM.scope[(e ? "set" : "remove") + "Attribute"](t || "readonly", !0),
                        this.settings.userInput = !0,
                        this.setContentEditable(!e)
                    },
                    setContentEditable(e) {
                        this.settings.userInput && (this.DOM.input.contentEditable = e,
                        this.DOM.input.tabIndex = e ? 0 : -1)
                    },
                    setDisabled(e) {
                        this.setReadonly(e, "disabled")
                    },
                    normalizeTags(e) {
                        var {whitelist: t, delimiters: i, mode: o, tagTextProp: a} = this.settings
                          , r = []
                          , s = t ? t[0]instanceof Object : !1
                          , l = Array.isArray(e)
                          , u = l && e[0].value
                          , c = d=>(d + "").split(i).filter(f=>f).map(f=>({
                            [a]: this.trim(f),
                            value: this.trim(f)
                        }));
                        if (typeof e == "number" && (e = e.toString()),
                        typeof e == "string") {
                            if (!e.trim())
                                return [];
                            e = c(e)
                        } else
                            l && (e = [].concat(...e.map(d=>d.value != null ? d : c(d))));
                        return s && !u && (e.forEach(d=>{
                            var f = r.map(x=>x.value)
                              , g = this.dropdown.filterListItems.call(this, d[a], {
                                exact: !0
                            });
                            this.settings.duplicates || (g = g.filter(x=>!f.includes(x.value)));
                            var h = g.length > 1 ? this.getWhitelistItem(d[a], a, g) : g[0];
                            h && h instanceof Object ? r.push(h) : o != "mix" && (d.value == null && (d.value = d[a]),
                            r.push(d))
                        }
                        ),
                        r.length && (e = r)),
                        e
                    },
                    parseMixTags(e, t) {
                        var {mixTagsInterpolator: i, duplicates: o, transformTag: a, enforceWhitelist: r, maxTags: s, tagTextProp: l} = this.settings
                          , u = [];
                        if (e = e.split(i[0]).map((d,f)=>{
                            var g = d.split(i[1]), h = g[0], x = u.length == s, m, v, y;
                            try {
                                if (h == +h)
                                    throw Error;
                                v = JSON.parse(h)
                            } catch {
                                v = this.normalizeTags(h)[0] || {
                                    value: h
                                }
                            }
                            if (a.call(this, v),
                            !x && g.length > 1 && (!r || this.isTagWhitelisted(v.value)) && !(!o && !t && this.isTagDuplicate(v.value)))
                                m = v[l] ? l : "value",
                                v[m] = this.trim(v[m]),
                                y = this.createTagElem(v),
                                u.push(v),
                                y.classList.add(this.settings.classNames.tagNoAnimation),
                                g[0] = y.outerHTML,
                                this.value.push(v);
                            else if (d)
                                return f ? i[0] + d : d;
                            return g.join("")
                        }
                        ).join(""),
                        t)
                            return e;
                        this.DOM.input.innerHTML = e,
                        this.DOM.input.appendChild(document.createTextNode("")),
                        this.DOM.input.normalize();
                        var c = this.getTagElms();
                        return c.forEach((d,f)=>I(d, u[f])),
                        this.update({
                            withoutChangeEvent: !0
                        }),
                        it(c, this.state.hasFocus),
                        e
                    },
                    replaceTextWithNode(e, t) {
                        if (!(!this.state.tag && !t)) {
                            t = t || this.state.tag.prefix + this.state.tag.value;
                            var i, o, a = this.state.selection || window.getSelection(), r = a.anchorNode, s = this.state.tag.delimiters ? this.state.tag.delimiters.length : 0;
                            return r.splitText(a.anchorOffset - s),
                            i = r.nodeValue.lastIndexOf(t),
                            i == -1 || (o = r.splitText(i),
                            e && r.parentNode.replaceChild(e, o)),
                            !0
                        }
                    },
                    selectTag(e, t) {
                        var i = this.settings;
                        if (!(i.enforceWhitelist && !this.isTagWhitelisted(t.value))) {
                            this.input.set.call(this, t[i.tagTextProp] || t.value, !0),
                            this.state.actions.selectOption && setTimeout(()=>this.setRangeAtStartEnd(!1, this.DOM.input));
                            var o = this.getLastTag();
                            return o ? this.replaceTag(o, t) : this.appendTag(e),
                            this.value[0] = t,
                            this.update(),
                            this.trigger("add", {
                                tag: e,
                                data: t
                            }),
                            [e]
                        }
                    },
                    addEmptyTag(e) {
                        var t = N({
                            value: ""
                        }, e || {})
                          , i = this.createTagElem(t);
                        I(i, t),
                        this.appendTag(i),
                        this.editTag(i, {
                            skipValidation: !0
                        })
                    },
                    addTags(e, t, i) {
                        var o = []
                          , a = this.settings
                          , r = []
                          , s = document.createDocumentFragment();
                        if (i = i || a.skipInvalid,
                        !e || e.length == 0)
                            return o;
                        switch (e = this.normalizeTags(e),
                        a.mode) {
                        case "mix":
                            return this.addMixTags(e);
                        case "select":
                            t = !1,
                            this.removeAllTags()
                        }
                        return this.DOM.input.removeAttribute("style"),
                        e.forEach(l=>{
                            var u, c = {}, d = Object.assign({}, l, {
                                value: l.value + ""
                            });
                            if (l = Object.assign({}, d),
                            a.transformTag.call(this, l),
                            l.__isValid = this.hasMaxTags() || this.validateTag(l),
                            l.__isValid !== !0) {
                                if (i)
                                    return;
                                if (N(c, this.getInvalidTagAttrs(l, l.__isValid), {
                                    __preInvalidData: d
                                }),
                                l.__isValid == this.TEXTS.duplicate && this.flashTag(this.getTagElmByValue(l.value)),
                                !a.createInvalidTags) {
                                    r.push(l.value);
                                    return
                                }
                            }
                            if ("readonly"in l && (l.readonly ? c["aria-readonly"] = !0 : delete l.readonly),
                            u = this.createTagElem(l, c),
                            o.push(u),
                            a.mode == "select")
                                return this.selectTag(u, l);
                            s.appendChild(u),
                            l.__isValid && l.__isValid === !0 ? (this.value.push(l),
                            this.trigger("add", {
                                tag: u,
                                index: this.value.length - 1,
                                data: l
                            })) : (this.trigger("invalid", {
                                data: l,
                                index: this.value.length,
                                tag: u,
                                message: l.__isValid
                            }),
                            a.keepInvalidTags || setTimeout(()=>this.removeTags(u, !0), 1e3)),
                            this.dropdown.position()
                        }
                        ),
                        this.appendTag(s),
                        this.update(),
                        e.length && t && (this.input.set.call(this, a.createInvalidTags ? "" : r.join(a._delimiters)),
                        this.setRangeAtStartEnd(!1, this.DOM.input)),
                        a.dropdown.enabled && this.dropdown.refilter(),
                        o
                    },
                    addMixTags(e) {
                        if (e = this.normalizeTags(e),
                        e[0].prefix || this.state.tag)
                            return this.prefixedTextToTag(e[0]);
                        var t = document.createDocumentFragment();
                        return e.forEach(i=>{
                            var o = this.createTagElem(i);
                            t.appendChild(o)
                        }
                        ),
                        this.appendMixTags(t),
                        t
                    },
                    appendMixTags(e) {
                        var t = !!this.state.selection;
                        t ? this.injectAtCaret(e) : (this.DOM.input.focus(),
                        t = this.setStateSelection(),
                        t.range.setStart(this.DOM.input, t.range.endOffset),
                        t.range.setEnd(this.DOM.input, t.range.endOffset),
                        this.DOM.input.appendChild(e),
                        this.updateValueByDOMTags(),
                        this.update())
                    },
                    prefixedTextToTag(e) {
                        var t = this.settings, i, o = this.state.tag.delimiters;
                        if (t.transformTag.call(this, e),
                        e.prefix = e.prefix || this.state.tag ? this.state.tag.prefix : (t.pattern.source || t.pattern)[0],
                        i = this.createTagElem(e),
                        this.replaceTextWithNode(i) || this.DOM.input.appendChild(i),
                        setTimeout(()=>i.classList.add(this.settings.classNames.tagNoAnimation), 300),
                        this.value.push(e),
                        this.update(),
                        !o) {
                            var a = this.insertAfterTag(i) || i;
                            setTimeout(ne, 0, a)
                        }
                        return this.state.tag = null,
                        this.trigger("add", N({}, {
                            tag: i
                        }, {
                            data: e
                        })),
                        i
                    },
                    appendTag(e) {
                        var t = this.DOM
                          , i = t.input;
                        t.scope.insertBefore(e, i)
                    },
                    createTagElem(e, t) {
                        e.__tagId = et();
                        var i, o = N({}, e, {
                            value: oe(e.value + ""),
                            ...t
                        });
                        return i = this.parseTemplate("tag", [o, this]),
                        Gt(i),
                        I(i, e),
                        i
                    },
                    reCheckInvalidTags() {
                        var e = this.settings;
                        this.getTagElms(e.classNames.tagNotAllowed).forEach((t,i)=>{
                            var o = I(t)
                              , a = this.hasMaxTags()
                              , r = this.validateTag(o)
                              , s = r === !0 && !a;
                            if (e.mode == "select" && this.toggleScopeValidation(r),
                            s)
                                return o = o.__preInvalidData ? o.__preInvalidData : {
                                    value: o.value
                                },
                                this.replaceTag(t, o);
                            t.title = a || r
                        }
                        )
                    },
                    removeTags(e, t, i) {
                        var o, a = this.settings;
                        if (e = e && e instanceof HTMLElement ? [e] : e instanceof Array ? e : e ? [e] : [this.getLastTag()],
                        o = e.reduce((r,s)=>{
                            s && typeof s == "string" && (s = this.getTagElmByValue(s));
                            var l = I(s);
                            return s && l && !l.readonly && r.push({
                                node: s,
                                idx: this.getTagIdx(l),
                                data: I(s, {
                                    __removed: !0
                                })
                            }),
                            r
                        }
                        , []),
                        i = typeof i == "number" ? i : this.CSSVars.tagHideTransition,
                        a.mode == "select" && (i = 0,
                        this.input.set.call(this)),
                        o.length == 1 && a.mode != "select" && o[0].node.classList.contains(a.classNames.tagNotAllowed) && (t = !0),
                        !!o.length)
                            return a.hooks.beforeRemoveTag(o, {
                                tagify: this
                            }).then(()=>{
                                function r(l) {
                                    l.node.parentNode && (l.node.parentNode.removeChild(l.node),
                                    t ? a.keepInvalidTags && this.trigger("remove", {
                                        tag: l.node,
                                        index: l.idx
                                    }) : (this.trigger("remove", {
                                        tag: l.node,
                                        index: l.idx,
                                        data: l.data
                                    }),
                                    this.dropdown.refilter(),
                                    this.dropdown.position(),
                                    this.DOM.input.normalize(),
                                    a.keepInvalidTags && this.reCheckInvalidTags()))
                                }
                                function s(l) {
                                    l.node.style.width = parseFloat(window.getComputedStyle(l.node).width) + "px",
                                    document.body.clientTop,
                                    l.node.classList.add(a.classNames.tagHide),
                                    setTimeout(r.bind(this), i, l)
                                }
                                i && i > 10 && o.length == 1 ? s.call(this, o[0]) : o.forEach(r.bind(this)),
                                t || (this.removeTagsFromValue(o.map(l=>l.node)),
                                this.update(),
                                a.mode == "select" && this.setContentEditable(!0))
                            }
                            ).catch(r=>{}
                            )
                    },
                    removeTagsFromDOM() {
                        [].slice.call(this.getTagElms()).forEach(e=>e.parentNode.removeChild(e))
                    },
                    removeTagsFromValue(e) {
                        e = Array.isArray(e) ? e : [e],
                        e.forEach(t=>{
                            var i = I(t)
                              , o = this.getTagIdx(i);
                            o > -1 && this.value.splice(o, 1)
                        }
                        )
                    },
                    removeAllTags(e) {
                        e = e || {},
                        this.value = [],
                        this.settings.mode == "mix" ? this.DOM.input.innerHTML = "" : this.removeTagsFromDOM(),
                        this.dropdown.refilter(),
                        this.dropdown.position(),
                        this.state.dropdown.visible && setTimeout(()=>{
                            this.DOM.input.focus()
                        }
                        ),
                        this.settings.mode == "select" && (this.input.set.call(this),
                        this.setContentEditable(!0)),
                        this.update(e)
                    },
                    postUpdate() {
                        var e, t;
                        this.state.blockChangeEvent = !1;
                        var i = this.settings
                          , o = i.classNames
                          , a = i.mode == "mix" ? i.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value.trim() : this.value.length + this.input.raw.call(this).length;
                        this.toggleClass(o.hasMaxTags, this.value.length >= i.maxTags),
                        this.toggleClass(o.hasNoTags, !this.value.length),
                        this.toggleClass(o.empty, !a),
                        i.mode == "select" && this.toggleScopeValidation((t = (e = this.value) == null ? void 0 : e[0]) == null ? void 0 : t.__isValid)
                    },
                    setOriginalInputValue(e) {
                        var t = this.DOM.originalInput;
                        this.settings.mixMode.integrated || (t.value = e,
                        t.tagifyValue = t.value,
                        this.setPersistedData(e, "value"))
                    },
                    update(e) {
                        clearTimeout(this.debouncedUpdateTimeout),
                        this.debouncedUpdateTimeout = setTimeout(t.bind(this), 100);
                        function t() {
                            var i = this.getInputValue();
                            this.setOriginalInputValue(i),
                            (!this.settings.onChangeAfterBlur || !(e || {}).withoutChangeEvent) && !this.state.blockChangeEvent && this.triggerChangeEvent(),
                            this.postUpdate()
                        }
                    },
                    getInputValue() {
                        var e = this.getCleanValue();
                        return this.settings.mode == "mix" ? this.getMixedTagsAsString(e) : e.length ? this.settings.originalInputValueFormat ? this.settings.originalInputValueFormat(e) : JSON.stringify(e) : ""
                    },
                    getCleanValue(e) {
                        return Ge(e || this.value, this.dataProps)
                    },
                    getMixedTagsAsString() {
                        var e = ""
                          , t = this
                          , i = this.settings
                          , o = i.originalInputValueFormat || JSON.stringify
                          , a = i.mixTagsInterpolator;
                        function r(s) {
                            s.childNodes.forEach(l=>{
                                if (l.nodeType == 1) {
                                    const u = I(l);
                                    if (l.tagName == "BR" && (e += `\r
`),
                                    u && se.call(t, l)) {
                                        if (u.__removed)
                                            return;
                                        e += a[0] + o(Ae(u, t.dataProps)) + a[1]
                                    } else
                                        l.getAttribute("style") || ["B", "I", "U"].includes(l.tagName) ? e += l.textContent : (l.tagName == "DIV" || l.tagName == "P") && (e += `\r
`,
                                        r(l))
                                } else
                                    e += l.textContent
                            }
                            )
                        }
                        return r(this.DOM.input),
                        e
                    }
                },
                we.prototype.removeTag = we.prototype.removeTags;
                const S = e=>e
                  , li = (e,t)=>{
                    const i = o=>typeof o == "string" ? o : JSON.stringify(o);
                    return i(e) == i(t)
                }
                  , di = ({name: e, value: t, loading: i=!1, onInput: o=S, onAdd: a=S, onRemove: r=S, onEditInput: s=S, onEditBeforeUpdate: l=S, onEditUpdated: u=S, onEditStart: c=S, onEditKeydown: d=S, onInvalid: f=S, onClick: g=S, onKeydown: h=S, onFocus: x=S, onBlur: m=S, onChange: v=S, onDropdownShow: y=S, onDropdownHide: b=S, onDropdownSelect: E=S, onDropdownScroll: D=S, onDropdownNoMatch: _=S, onDropdownUpdated: C=S, readOnly: P, disabled: k, children: F, settings: A={}, InputMode: T="input", autoFocus: B, className: H, whitelist: ee, tagifyRef: V, placeholder: re="", defaultValue: de, showDropdown: W})=>{
                    const L = n.useRef()
                      , he = n.useRef()
                      , G = n.useRef()
                      , Ve = de || t
                      , lo = n.useMemo(()=>({
                        ref: he,
                        name: e,
                        defaultValue: F || typeof Ve == "string" ? Ve : JSON.stringify(Ve),
                        className: H,
                        readOnly: P,
                        disabled: k,
                        autoFocus: B,
                        placeholder: re
                    }), [])
                      , Mt = n.useCallback(()=>{
                        B && G.current && G.current.DOM.input.focus()
                    }
                    , [G]);
                    return n.useEffect(()=>{
                        T == "textarea" && (A.mode = "mix"),
                        ee && ee.length && (A.whitelist = ee);
                        const Y = new we(he.current,A);
                        return Y.on("input", o).on("add", a).on("remove", r).on("invalid", f).on("keydown", h).on("focus", x).on("blur", m).on("click", g).on("change", v).on("edit:input", s).on("edit:beforeUpdate", l).on("edit:updated", u).on("edit:start", c).on("edit:keydown", d).on("dropdown:show", y).on("dropdown:hide", b).on("dropdown:select", E).on("dropdown:scroll", D).on("dropdown:noMatch", _).on("dropdown:updated", C),
                        V && (V.current = Y),
                        G.current = Y,
                        Mt(),
                        ()=>{
                            Y.destroy()
                        }
                    }
                    , []),
                    n.useEffect(()=>{
                        Mt()
                    }
                    , [B]),
                    n.useEffect(()=>{
                        const Y = G.current.getInputValue();
                        L.current && !li(t, Y) && G.current.loadOriginalValues(t)
                    }
                    , [t, L.current]),
                    n.useEffect(()=>{
                        L.current && G.current.toggleClass(H)
                    }
                    , [H, L.current]),
                    n.useEffect(()=>{
                        L.current && G.current.loading(i)
                    }
                    , [i, L.current]),
                    n.useEffect(()=>{
                        L.current && G.current.setReadonly(P)
                    }
                    , [P, L.current]),
                    n.useEffect(()=>{
                        L.current && G.current.setDisabled(k)
                    }
                    , [k, L.current]),
                    n.useEffect(()=>{
                        const Y = G.current;
                        L.current && (W ? (Y.dropdown.show.call(Y, W),
                        Y.toggleFocusClass(!0)) : Y.dropdown.hide.call(Y))
                    }
                    , [W, L.current]),
                    n.useEffect(()=>{
                        L.current = !0
                    }
                    , []),
                    w.jsx("div", {
                        className: "tags-input",
                        children: w.jsx(T, {
                            ...lo
                        })
                    })
                }
                  , nt = n.memo(di);
                nt.displayName = "Tags";
                const ui = ({...e})=>w.jsx(nt, {
                    InputMode: "textarea",
                    ...e
                })
                  , ve = "-**"
                  , ye = "**-";
                function ci(e, t) {
                    return t
                }
                function Ne(e) {
                    const t = {};
                    e.fields.map(o=>{
                        t[o.value] = o.transformer ?? ci
                    }
                    );
                    const i = e.rule.trim().split(ve).map(o=>{
                        let a = o.split(ye)
                          , r = a[0];
                        if (r.trim().length === 0)
                            return a.join("");
                        let s = r.trim();
                        try {
                            const l = JSON.parse(s);
                            l.value && (s = l.value)
                        } catch {}
                        return e.fields.find(l=>l.value === s) && (t[s] ? a[0] = t[s](e.data, s) : a[0] = s),
                        a.join("")
                    }
                    ).join("").trim();
                    return be(ie(i) + (e.ext ?? ""))
                }
                function gi(e) {
                    return be(e.trim().split(ve).map(t=>{
                        let i = t.split(ye)
                          , o = i[0];
                        if (o.trim().length === 0)
                            return i.join("");
                        let a = o.trim();
                        try {
                            const r = JSON.parse(a);
                            r.value && (a = r.value)
                        } catch {}
                        return i[0] = a,
                        i.join(ye)
                    }
                    ).join(ve).trim())
                }
                function be(e) {
                    return e.replace(/[\n\t]/g, "").replace(/\p{C}/gu, "")
                }
                function pi(e, t, i) {
                    var o = i || {}, a = o.noTrailing, r = a === void 0 ? !1 : a, s = o.noLeading, l = s === void 0 ? !1 : s, u = o.debounceMode, c = u === void 0 ? void 0 : u, d, f = !1, g = 0;
                    function h() {
                        d && clearTimeout(d)
                    }
                    function x(v) {
                        var y = v || {}
                          , b = y.upcomingOnly
                          , E = b === void 0 ? !1 : b;
                        h(),
                        f = !E
                    }
                    function m() {
                        for (var v = arguments.length, y = new Array(v), b = 0; b < v; b++)
                            y[b] = arguments[b];
                        var E = this
                          , D = Date.now() - g;
                        if (f)
                            return;
                        function _() {
                            g = Date.now(),
                            t.apply(E, y)
                        }
                        function C() {
                            d = void 0
                        }
                        !l && c && !d && _(),
                        h(),
                        c === void 0 && D > e ? l ? (g = Date.now(),
                        r || (d = setTimeout(c ? C : _, e))) : _() : r !== !0 && (d = setTimeout(c ? C : _, c === void 0 ? e - D : e))
                    }
                    return m.cancel = x,
                    m
                }
                function hi(e, t, i) {
                    var o = i || {}
                      , a = o.atBegin
                      , r = a === void 0 ? !1 : a;
                    return pi(e, t, {
                        debounceMode: r !== !1
                    })
                }
                let Oe = !1
                  , at = 0;
                function mi(e, t) {
                    const i = n.useRef();
                    n.useImperativeHandle(t, ()=>i.current);
                    const [o,a] = n.useState("")
                      , [r,s] = n.useState([]);
                    function l(g) {
                        let h = g.detail.value.trim();
                        h = h.replace(/\n/g, ""),
                        console.log(h, 11),
                        h.length === 0 && (h = e.presets[0],
                        i.current.parseMixTags(h)),
                        fi(),
                        e.onUpdate(be(h)),
                        setTimeout(()=>{
                            s(i.current.getTagElms().map(x=>x.__tagifyTagData.value))
                        }
                        , 300)
                    }
                    const u = n.useCallback(hi(600, l), [i.current, e.presets])
                      , c = n.useMemo(()=>i.current ? e.presets.map(g=>({
                        key: g,
                        label: w.jsx("div", {
                            dangerouslySetInnerHTML: {
                                __html: i.current.parseMixTags(g, !0)
                            }
                        }),
                        onClick: h=>{
                            a(h.key),
                            u({
                                detail: {
                                    value: h.key
                                }
                            })
                        }
                    })) : [], [e.presets, i.current, u])
                      , d = n.useMemo(()=>i.current ? e.fields.map(g=>{
                        const h = g.value;
                        return {
                            key: h,
                            label: h,
                            disabled: r.includes(h),
                            onClick: x=>{
                                i.current.addTags([x.key])
                            }
                        }
                    }
                    ) : [], [e.fields, i.current, r])
                      , f = n.useMemo(()=>({
                        pattern: /@/,
                        placeholder: "Input naming rule",
                        editTags: !1,
                        enforceWhitelist: !0,
                        tagTextProp: "label",
                        whitelist: e.fields,
                        mixTagsInterpolator: [ve, ye],
                        duplicates: !1,
                        autoComplete: {
                            enable: !1
                        },
                        dropdown: {
                            enabled: !1
                        },
                        userInput: !1,
                        ...e.tagifySettings ?? {}
                    }), [e.tagifySettings, e.fields]);
                    return n.useEffect(()=>{
                        Oe || a(be(e.rule))
                    }
                    , [e.rule]),
                    n.useEffect(()=>{
                        i.current && s(i.current.getTagElms().map(g=>g.__tagifyTagData.value))
                    }
                    , [i.current]),
                    w.jsxs(p.Space, {
                        direction: "vertical",
                        size: 8,
                        className: `tagify-wrapper ${e.theme}`,
                        children: [w.jsx(ui, {
                            tagifyRef: i,
                            onChange: u,
                            settings: f,
                            readOnly: !0,
                            value: o
                        }), w.jsxs("div", {
                            children: [w.jsxs("div", {
                                className: "bottom-bar",
                                children: [w.jsx(p.Space, {
                                    size: 8,
                                    children: w.jsx(p.Dropdown, {
                                        menu: {
                                            items: c
                                        },
                                        overlayClassName: "tagify-dropdown",
                                        children: w.jsx(p.Button, {
                                            size: "small",
                                            children: "Choose a preset"
                                        })
                                    })
                                }), w.jsx(p.Space, {
                                    children: w.jsx(p.Dropdown, {
                                        menu: {
                                            items: d
                                        },
                                        overlayClassName: "tagify-dropdown",
                                        children: w.jsx(p.Button, {
                                            size: "small",
                                            children: "Insert a Field"
                                        })
                                    })
                                })]
                            }), e.exampleData && w.jsxs("div", {
                                className: "tagify-example",
                                children: [w.jsx("span", {
                                    className: "eg",
                                    children: "example:"
                                }), w.jsx("span", {
                                    className: "eg-txt",
                                    children: Ne({
                                        rule: e.rule,
                                        fields: e.fields,
                                        data: e.exampleData,
                                        ext: e.ext ?? ""
                                    })
                                })]
                            })]
                        })]
                    })
                }
                const rt = n.forwardRef(mi);
                function fi() {
                    Oe = !0,
                    window.clearTimeout(at),
                    at = setTimeout(()=>{
                        Oe = !1
                    }
                    , 1e3)
                }
                function st(e, t) {
                    const i = {
                        hPxLP: function(r) {
                            return r()
                        },
                        oQgAg: "Copied",
                        teNtE: function(r, s) {
                            return r(s)
                        },
                        xZaJE: function(r, s) {
                            return r * s
                        },
                        xxZPT: "Api Request Error",
                        PaBzq: function(r, s, l) {
                            return r(s, l)
                        },
                        oQnSj: "div",
                        Hvkmq: function(r, s, l) {
                            return r(s, l)
                        },
                        mOFIK: "code",
                        jCBKx: function(r, s, l) {
                            return r(s, l)
                        },
                        kNgCa: "flex",
                        DInRq: "row",
                        jqaSK: "space-between",
                        lwBGQ: function(r, s, l) {
                            return r(s, l)
                        },
                        rzSPL: "small",
                        euEDl: "text",
                        Ustmf: "Copy Errors Message",
                        Mafrl: function(r, s, l) {
                            return r(s, l)
                        },
                        dllVe: "primary",
                        qHFcn: "Concat ESUIT devloper",
                        lbnMy: "Close",
                        Rguyw: "default"
                    }
                      , o = i.teNtE(vi, t)
                      , a = "id" + Math.ceil(i.xZaJE(9999, Math.random()));
                    e.error({
                        title: i.xxZPT,
                        content: i.PaBzq(w.jsxs, i.oQnSj, {
                            children: [i.Hvkmq(w.jsx, i.mOFIK, {
                                style: {
                                    fontSize: 10
                                },
                                children: o
                            }), i.jCBKx(w.jsxs, i.oQnSj, {
                                style: {
                                    marginTop: 24,
                                    display: i.kNgCa,
                                    flexDirection: i.DInRq,
                                    justifyContent: i.jqaSK
                                },
                                children: [i.lwBGQ(w.jsx, p.Button, {
                                    style: {
                                        marginBottom: 8
                                    },
                                    size: i.rzSPL,
                                    type: i.euEDl,
                                    id: a,
                                    onClick: ()=>{
                                        const r = {
                                            message: {
                                                errorMsg: o,
                                                stack: (t == null ? void 0 : t.stack) ?? ""
                                            },
                                            href: window.location.href,
                                            stacks: i.hPxLP(wi)
                                        };
                                        navigator.clipboard.writeText(JSON.stringify(r));
                                        const s = document.querySelector("#" + a);
                                        s && (s.innerHTML = i.oQgAg)
                                    }
                                    ,
                                    children: i.Ustmf
                                }), i.Mafrl(w.jsx, p.Button, {
                                    size: i.rzSPL,
                                    type: i.dllVe,
                                    onClick: ()=>window.open("https://www.facebook.com/esuitdev", "_blank"),
                                    children: i.qHFcn
                                })]
                            })]
                        }),
                        okText: i.lbnMy,
                        okButtonProps: {
                            type: i.Rguyw
                        }
                    })
                }
                function wi() {
                    const e = "ErrorPubSub";
                    try {
                        return window.require(e).history.slice(0, 1).map(t=>{
                            try {
                                delete t.stackFrames,
                                delete t.xFBDebug
                            } catch {}
                            return {
                                message: t.message,
                                messageFormat: t.messageFormat,
                                messageParams: t.messageParams,
                                name: t.name,
                                project: t.project,
                                script: t.script,
                                stack: t,
                                type: t.type,
                                windowLocationURL: t.windowLocationURL,
                                clientTime: t.clientTime,
                                line: t.line,
                                loggingSource: t.loggingSource
                            }
                        }
                        )
                    } catch {
                        return {}
                    }
                }
                function vi(e) {
                    var t, i, o;
                    if (!e)
                        return "unknown errors";
                    if ((i = (t = e == null ? void 0 : e.errors) == null ? void 0 : t[0]) != null && i.message)
                        return e.errors[0].message;
                    if ((o = e == null ? void 0 : e[0]) != null && o.message)
                        return e[0].message;
                    if (e != null && e.message)
                        return e.message;
                    let a = "";
                    try {
                        a = JSON.stringify(e)
                    } catch {}
                    return a.toString()
                }
                let Be = 0
                  , le = !1;
                function lt() {
                    const e = {
                        wTplN: "complete/next stuck",
                        zLrCf: function(i, o) {
                            return i(o)
                        },
                        gMbdV: "LoadQuery Error:",
                        XzWYL: "CometRelay",
                        rMAOU: "network-only",
                        pKzWq: function(i, o, a) {
                            return i(o, a)
                        },
                        mOnmn: "[0].errors.[0].message",
                        Vrrqh: function(i, o) {
                            return i(o)
                        },
                        OdnHZ: function(i, o, a) {
                            return i(o, a)
                        },
                        GZMwc: function(i, o, a, r) {
                            return i(o, a, r)
                        },
                        MMLRO: function(i, o) {
                            return i !== o
                        }
                    }
                      , t = e.pKzWq(n.useMemo, ()=>window.require("CometRelay").useRelayEnvironment(), []);
                    return {
                        loadQuery: function(i, o, a) {
                            const r = {
                                ILEfO: function(l, u, c) {
                                    return e.pKzWq(l, u, c)
                                },
                                pGiPi: e.mOnmn,
                                sNarb: function(l, u) {
                                    return e.Vrrqh(l, u)
                                },
                                ZFbuG: function(l, u, c) {
                                    return e.OdnHZ(l, u, c)
                                }
                            };
                            let s = [];
                            return le = !1,
                            new Promise((l,u)=>{
                                const c = {
                                    EdEjN: e.wTplN,
                                    nqxKE: function(f, g) {
                                        return e.zLrCf(f, g)
                                    },
                                    fPjYP: e.gMbdV
                                };
                                let d = window.require(e.XzWYL).loadQuery(t, window.require(i + ".graphql"), o, {
                                    fetchPolicy: e.rMAOU
                                });
                                d.source.subscribe({
                                    next(f) {
                                        s.push(...f);
                                        const g = r.ILEfO(M.get, f, r.pGiPi);
                                        return g ? (console.error({
                                            vars: o,
                                            groupQLName: i
                                        }),
                                        void r.sNarb(u, g)) : a ? (le = !0,
                                        d.dispose(),
                                        d = null,
                                        void r.sNarb(l, s)) : (window.clearTimeout(Be),
                                        void (Be = r.ZFbuG(setTimeout, ()=>{
                                            le || (console.log(c.EdEjN),
                                            le = !0,
                                            d.dispose(),
                                            d = null,
                                            c.nqxKE(l, s))
                                        }
                                        , 15e3)))
                                    },
                                    complete() {
                                        c.nqxKE(clearTimeout, Be),
                                        le || (le = !0,
                                        d.dispose(),
                                        d = null,
                                        c.nqxKE(l, s))
                                    },
                                    error(f) {
                                        console.error(c.fPjYP, f),
                                        c.nqxKE(u, f)
                                    }
                                })
                            }
                            )
                        },
                        findValueFromLoadQueryData: function(i, o) {
                            for (let a of i) {
                                const r = e.GZMwc(M.get, a, o, void 0);
                                if (e.MMLRO(void 0, r))
                                    return r
                            }
                        }
                    }
                }
                function Pe(e) {
                    const t = {
                        tlXZp: "_blank",
                        KkPTB: "Click to see how to use this feature",
                        DTVvT: function(a, r, s) {
                            return a(r, s)
                        },
                        xvZKb: "span",
                        wOtvg: function(a, r, s) {
                            return a(r, s)
                        },
                        PMZge: function(a, r, s) {
                            return a(r, s)
                        },
                        OSxSs: "pointer"
                    }
                      , {title: i=t.KkPTB, bold: o=!0} = e;
                    return t.DTVvT(w.jsxs, t.xvZKb, {
                        style: {
                            lineHeight: 1,
                            paddingBottom: 4
                        },
                        children: [o ? t.wOtvg(w.jsx, "b", {
                            children: e.children
                        }) : e.children, e.linkPath && t.PMZge(w.jsx, p.Tooltip, {
                            title: i,
                            children: t.PMZge(w.jsx, t.xvZKb, {
                                style: {
                                    cursor: t.OSxSs
                                },
                                onClick: function() {
                                    window.open("https://docs.esuit.dev" + e.linkPath, t.tlXZp)
                                },
                                children: "❓"
                            })
                        })]
                    })
                }
                function yi(e) {
                    const t = new URL(e).pathname
                      , i = t.lastIndexOf("/");
                    return t.substring(i + 1)
                }
                function Le(e, t) {
                    let i = String(t);
                    if (i.length >= e)
                        return i;
                    let o = e - i.length;
                    for (let a = 0; a < o; a++)
                        i = "0" + i;
                    return i
                }
                function bi(e) {
                    return new Promise(t=>{
                        setTimeout(()=>{
                            t()
                        }
                        , e * 1e3)
                    }
                    )
                }
                function dt(e) {
                    let t = e.lastIndexOf(".");
                    return t !== -1 ? e.slice(0, t) : e
                }
                function je() {
                    window.downloadedFilenameCountMap = {}
                }
                var ge = (e=>(e.INDEX = "index",
                e.DATE = "date",
                e.TIME = "time",
                e.TIMESTAMP = "timestamp",
                e.FILE_ID = "file id",
                e.USER_ID = "user id",
                e.USERNAME = "username",
                e.ORIGINAL_NAME = "original name",
                e._0Index = "0index",
                e._00Index = "00index",
                e._000Index = "000index",
                e.DATE_US = "date us",
                e.YEARS = "years",
                e.MONTHs = "months",
                e.DAYs = "days",
                e.HOURS = "hours",
                e.MINUTES = "minutes",
                e.SECONDS = "seconds",
                e))(ge || {});
                const xe = [{
                    value: "index",
                    transformer(e) {
                        return String(e.index)
                    }
                }, {
                    value: "date",
                    transformer(e) {
                        return $.unix(e.createdAt).format("YYYY_MM_DD__HH_mm_ss")
                    }
                }, {
                    value: "time",
                    transformer(e) {
                        return $.unix(e.createdAt).format("HH_mm_ss")
                    }
                }, {
                    value: "timestamp",
                    transformer(e) {
                        return String(e.createdAt)
                    }
                }, {
                    value: "file id",
                    transformer(e) {
                        return String(e.id)
                    }
                }, {
                    value: "user id",
                    transformer(e) {
                        return String(e.userId)
                    }
                }, {
                    value: "username",
                    transformer(e) {
                        return String(e.userName)
                    }
                }, {
                    value: "original name",
                    transformer(e) {
                        return dt(yi(e.uri))
                    }
                }, {
                    value: "0index",
                    transformer(e) {
                        return Le(2, e.index)
                    }
                }, {
                    value: "00index",
                    transformer(e) {
                        return Le(3, e.index)
                    }
                }, {
                    value: "000index",
                    transformer(e) {
                        return Le(4, e.index)
                    }
                }, {
                    value: "date us",
                    transformer(e) {
                        return $.unix(e.createdAt).format("MM/DD/YYYY")
                    }
                }, {
                    value: "years",
                    transformer(e) {
                        return $.unix(e.createdAt).format("YYYY")
                    }
                }, {
                    value: "months",
                    transformer(e) {
                        return $.unix(e.createdAt).format("MM")
                    }
                }, {
                    value: "days",
                    transformer(e) {
                        return $.unix(e.createdAt).format("DD")
                    }
                }, {
                    value: "hours",
                    transformer(e) {
                        return $.unix(e.createdAt).format("HH")
                    }
                }, {
                    value: "minutes",
                    transformer(e) {
                        return $.unix(e.createdAt).format("mm")
                    }
                }, {
                    value: "seconds",
                    transformer(e) {
                        return $.unix(e.createdAt).format("ss")
                    }
                }]
                  , ut = ["-**original name**-", "-**index**-_-**date**-", "-**date**-", "-**timestamp**-", "-**username**-_-**date**-", "-**file id**-_-**date**-", "-**username**-_-**timestamp**-"]
                  , ct = [`-**${ge.USERNAME}**-`, `-**${ge.YEARS}**---**${ge.MONTHs}**---**${ge.DAYs}**-`];
                var Q = (e=>(e.ORIGINAL = "none",
                e.PNG = "image/png",
                e.JPG = "image/jpeg",
                e.WEBP = "image/webp",
                e))(Q || {})
                  , j = (e=>(e.CAROUSEL_DOWNLOADER = "carouselDownloader",
                e.FETCH_LIMIT = "fetchLimit",
                e.IMAGES_FORMAT_AS = "imagesFormatAs",
                e.FOLDER_NAME_RULE = "folderNameRule",
                e.FILENAME_FORMATS = "fileNameFormats",
                e.RESUME_DOWNLOADING = "resumeDownloading",
                e.SKIP_DOWNLOADED_FILES = "skipDownloadedFiles",
                e))(j || {});
                const R = {
                    isSkipDownloadedFile: !1,
                    isFullSpeed: !1,
                    isGenFolder: !1,
                    fileFormatAs: Q.ORIGINAL,
                    fileNameFormatRule: ut[0],
                    requestDelay: 0,
                    folderNameRule: ct[0]
                };
                var xi = (e=>(e.SUBSCRIPTION = "subscription",
                e.PAYMENT = "payment",
                e))(xi || {})
                  , ze = (e=>(e.FREE = "free",
                e.BASIC = "basic",
                e.PREMIUM = "premium",
                e))(ze || {})
                  , Ei = (e=>(e.TRIALING = "trialing",
                e.ACTIVE = "active",
                e))(Ei || {})
                  , _i = (e=>(e.SUCCEEDED = "succeeded",
                e))(_i || {});
                async function Ti(e, t, i) {
                    const o = function(u, c) {
                        return u + c
                    }
                      , a = function(u, c) {
                        return u / c
                    }
                      , r = "SHA-256"
                      , s = new TextEncoder().encode(JSON.stringify({
                        projectId: e,
                        extensionId: t,
                        createAt: o(Math.floor(a(new Date().getTime(), 1e5)), i ? 1 : 0)
                    }))
                      , l = await crypto.subtle.digest(r, s);
                    return Array.from(new Uint8Array(l)).map(u=>u.toString(16).padStart(2, "0")).join("")
                }
                function Di(e) {
                    const {messageInstance: t, defaultMemoConfig: i, onGetMemoSettings: o, modalApi: a, projectId: r, extId: s} = e
                      , l = `${e.projectId.replaceAll("-", "_")}`;
                    async function u() {
                        t.send("visitPricingPage", await Ti(r, s))
                    }
                    function c(g, h) {
                        return w.jsxs("div", {
                            style: {
                                color: "var(--primary-text)"
                            },
                            children: [w.jsx("div", {
                                style: {
                                    marginBottom: 12,
                                    fontSize: 14,
                                    lineHeight: "1.4em"
                                },
                                children: "This feature is designed for professional users."
                            }), h ? w.jsxs(w.Fragment, {
                                children: [w.jsx("div", {
                                    style: {
                                        fontSize: 18
                                    },
                                    children: h
                                }), w.jsx("div", {
                                    style: {
                                        margin: "12px 0 0 0",
                                        textAlign: "left",
                                        fontSize: 12,
                                        opacity: .4
                                    },
                                    children: "OR"
                                })]
                            }) : null, w.jsxs("div", {
                                style: {
                                    fontSize: 14,
                                    lineHeight: "1.4em"
                                },
                                children: ["Upgrade to the", " ", w.jsx(w.Fragment, {
                                    children: g.permission === 10 ? w.jsx("span", {
                                        style: {
                                            fontSize: 12,
                                            display: "inline-block",
                                            padding: "0 7px",
                                            border: "1px solid #389e0d",
                                            color: "#389e0d",
                                            borderRadius: 4
                                        },
                                        children: ze.BASIC
                                    }) : w.jsx("span", {
                                        style: {
                                            fontSize: 12,
                                            display: "inline-block",
                                            padding: "0 7px",
                                            border: "1px solid #0958d9",
                                            color: "#0958d9",
                                            borderRadius: 4
                                        },
                                        children: ze.PREMIUM
                                    })
                                }), " ", "plan to unlock the unlimited version.", w.jsx("button", {
                                    style: {
                                        color: "#1677ff",
                                        backgroundColor: "transparent",
                                        fontSize: 14,
                                        padding: "0",
                                        outline: "none",
                                        textAlign: "center",
                                        cursor: "pointer",
                                        border: "none",
                                        marginLeft: 8
                                    },
                                    onClick: u,
                                    children: "Upgrade Now!"
                                })]
                            })]
                        })
                    }
                    function d(g) {
                        const h = `do-not-show-permission-check${encodeURIComponent(g)}`;
                        t.send("setPersistLocalStorage", h, 1)
                    }
                    async function f(g) {
                        const h = `do-not-show-permission-check${encodeURIComponent(g)}`;
                        return await t.send("getPersistLocalStorage", h, 0)
                    }
                    return n.useEffect(()=>{
                        (async()=>{
                            const g = await t.send("getUIMemoSettings");
                            o(g)
                        }
                        )()
                    }
                    , []),
                    {
                        checkIfCanUseWithModal: function(g, h, x) {
                            if (!window[l][g])
                                return console.error(g, "not exist"),
                                Promise.resolve(!1);
                            const m = window[l][g];
                            return !m.needUpgrade || m._.memoKey && i[m._.memoKey] !== void 0 && h === i[m._.memoKey] ? Promise.resolve(!0) : new Promise(async v=>{
                                if (m.isCanFreeTry)
                                    if (m.freeTryLeft) {
                                        if (await f(g))
                                            return v(!0);
                                        const y = a.confirm({
                                            title: "Free trial",
                                            content: c(m, w.jsxs(w.Fragment, {
                                                children: [w.jsx("b", {
                                                    style: {
                                                        fontSize: 18
                                                    },
                                                    children: m.freeTryLeft
                                                }), " FREE try remaining."]
                                            })),
                                            footer: w.jsx("div", {
                                                style: {
                                                    display: "flex",
                                                    justifyContent: "end",
                                                    marginTop: 24
                                                },
                                                children: w.jsxs(p.Space, {
                                                    size: 12,
                                                    children: [w.jsx(p.Button, {
                                                        type: "text",
                                                        onClick: ()=>{
                                                            y.destroy(),
                                                            d(g),
                                                            v(!0)
                                                        }
                                                        ,
                                                        children: "Do not show me again!"
                                                    }), w.jsx(p.Button, {
                                                        type: "primary",
                                                        onClick: ()=>{
                                                            y.destroy(),
                                                            v(!0)
                                                        }
                                                        ,
                                                        children: "Continue"
                                                    })]
                                                })
                                            })
                                        })
                                    } else
                                        a.confirm({
                                            title: "Message",
                                            content: c(m, w.jsx(w.Fragment, {
                                                children: "No free try left."
                                            })),
                                            okText: "Upgrade Now",
                                            cancelText: "close",
                                            onOk() {
                                                u(),
                                                v(!1)
                                            },
                                            onCancel() {
                                                v(!1)
                                            }
                                        });
                                else if (m.limitation && m.limitation > 0) {
                                    if (await f(g))
                                        return v(!0);
                                    const y = a.confirm({
                                        content: c(m, w.jsxs(w.Fragment, {
                                            children: ["The first ", w.jsx("b", {
                                                children: m.limitation
                                            }), " ", x ?? "times", " are FREE."]
                                        })),
                                        footer: w.jsx("div", {
                                            style: {
                                                display: "flex",
                                                justifyContent: "end",
                                                marginTop: 24
                                            },
                                            children: w.jsxs(p.Space, {
                                                size: 12,
                                                children: [w.jsx(p.Button, {
                                                    type: "text",
                                                    onClick: ()=>{
                                                        y.destroy(),
                                                        d(g),
                                                        v(!0)
                                                    }
                                                    ,
                                                    children: "Do not show me again!"
                                                }), w.jsx(p.Button, {
                                                    type: "primary",
                                                    onClick: ()=>{
                                                        y.destroy(),
                                                        v(!0)
                                                    }
                                                    ,
                                                    children: "Continue"
                                                })]
                                            })
                                        })
                                    })
                                } else
                                    a.confirm({
                                        title: "Message",
                                        content: c(m),
                                        okText: "ok",
                                        cancelText: "close",
                                        onOk() {
                                            v(!1)
                                        },
                                        onCancel() {
                                            v(!1)
                                        }
                                    })
                            }
                            )
                        },
                        setUIMemoSettings: async function(g) {
                            await t.send("setUIMemoSettings", g)
                        },
                        getFeatureLimitProcessTimeValue: function(g) {
                            const {featureKey: h, currentIndex: x, currentValue: m} = g;
                            if (!window[l][h])
                                throw console.error(h, "not exist"),
                                new Error(`${h} not exist`);
                            const v = window[l][h];
                            if (!v._.memoKey)
                                throw console.error(h, "feature._.memoKey not exist"),
                                new Error(`${h} feature._.memoKey not exist`);
                            const y = i[v._.memoKey];
                            return v.needUpgrade && x > v.limitation ? y : m
                        },
                        checkIfCanUse: function(g) {
                            if (!window[l][g])
                                return console.error(g, "not exist"),
                                !1;
                            const h = window[l][g];
                            return !h.needUpgrade || (h.isCanFreeTry && h.freeTryLeft ? "freeTry" : !!(h.limitation && h.limitation > 0) && "limitation")
                        },
                        getUIMemoSettings: async function() {
                            return await t.send("getUIMemoSettings")
                        }
                    }
                }
                const ae = n.createContext(null);
                function gt(e) {
                    const [t,i] = p.message.useMessage()
                      , [o,a] = p.Modal.useModal();
                    return n.createElement(ae.Provider, {
                        value: {
                            messageApi: t,
                            modalApi: o
                        }
                    }, i, a, e.children)
                }
                var Ci = Object.defineProperty
                  , ki = (e,t,i)=>t in e ? Ci(e, t, {
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                    value: i
                }) : e[t] = i
                  , Ee = (e,t,i)=>(ki(e, typeof t != "symbol" ? t + "" : t, i),
                i);
                class Fi {
                    constructor(t, i) {
                        Ee(this, "id"),
                        Ee(this, "listeners", {}),
                        Ee(this, "slug"),
                        Ee(this, "isDebugger"),
                        this.slug = t,
                        this.isDebugger = !!i,
                        this.id = window[t].id,
                        this.bindEvent()
                    }
                    on(t, i) {
                        return this.listeners[t] = this.listeners[t] || [],
                        this.listeners[t].push(i),
                        ()=>{
                            if (this.listeners[t].includes(i)) {
                                const o = this.listeners[t].indexOf(i);
                                this.listeners[t].splice(o, 1)
                            }
                        }
                    }
                    send(t, ...i) {
                        return new Promise(async o=>{
                            let a = {
                                action: t,
                                payload: i
                            };
                            this.isDebugger && console.log("send message from page", a),
                            chrome.runtime.sendMessage(this.id, a, {}, r=>{
                                this.isDebugger && console.log("received message from page send callback", r),
                                o(r)
                            }
                            )
                        }
                        )
                    }
                    connect() {
                        chrome.runtime.sendMessage(this.id, {
                            action: "__connect"
                        })
                    }
                    disconnect() {
                        chrome.runtime.sendMessage(this.id, {
                            action: "__disconnect"
                        })
                    }
                    bindEvent() {
                        window.addEventListener("message", this._handleReceivingMessage.bind(this))
                    }
                    destroy() {
                        this.disconnect(),
                        this.listeners = {},
                        window.removeEventListener("message", this._handleReceivingMessage.bind(this))
                    }
                    _handleReceivingMessage(t) {
                        if (t.data && t.data.from === this.slug && t.data.payload) {
                            const {action: i, payload: o} = t.data.payload;
                            if (this.isDebugger && console.log("received message from background", t.data),
                            this.listeners[i])
                                for (let a of this.listeners[i])
                                    a(...o)
                        }
                    }
                }
                function Ai() {
                    return ~window.location.search.indexOf("debug") ? !0 : window[te] ? !window[te].isProdMode : !0
                }
                async function Ii(e) {
                    return new Promise(t=>{
                        fetch(e, {
                            method: "HEAD"
                        }).then(i=>{
                            const o = i.headers.get("Content-Type");
                            t(o || "")
                        }
                        ).catch(i=>{
                            t("")
                        }
                        )
                    }
                    )
                }
                let Si = new Fi(te,Ai());
                function q() {
                    return Si
                }
                const K = n.createContext(null);
                function pt(e) {
                    const {modalApi: t, messageApi: i} = n.useContext(ae)
                      , [o,a] = n.useState(R.isSkipDownloadedFile)
                      , [r,s] = n.useState(R.isFullSpeed)
                      , [l,u] = n.useState(R.isGenFolder)
                      , [c,d] = n.useState(R.fileFormatAs)
                      , [f,g] = n.useState(R.fileNameFormatRule)
                      , [h,x] = n.useState(R.folderNameRule)
                      , [m,v] = n.useState(R.requestDelay)
                      , y = n.useMemo(()=>window.download_albums_for_facebook.fetchLimit.limitation === 0 ? 9 ** 9 : window.download_albums_for_facebook.fetchLimit.limitation, [])
                      , {setUIMemoSettings: b, checkIfCanUseWithModal: E, getFeatureLimitProcessTimeValue: D} = Di({
                        projectId: te,
                        extId: Lt,
                        modalApi: t,
                        messageApi: i,
                        messageInstance: q(),
                        defaultMemoConfig: R,
                        onGetMemoSettings(T) {
                            s(T.isFullSpeed),
                            a(T.isSkipDownloadedFile),
                            u(T.isGenFolder),
                            v(T.requestDelay),
                            g(T.fileNameFormatRule),
                            d(T.fileFormatAs),
                            x(T.folderNameRule)
                        }
                    })
                      , _ = n.useCallback(()=>{
                        b({
                            isSkipDownloadedFile: o,
                            isFullSpeed: r,
                            isGenFolder: l,
                            fileFormatAs: c,
                            fileNameFormatRule: f,
                            requestDelay: m,
                            folderNameRule: h
                        })
                    }
                    , [o, r, l, c, f, h, m]);
                    async function C(T) {
                        const B = `${te}-disclaimer`
                          , H = await q().send("getPersistLocalStorage", B, 0) === 1;
                        T && !H ? t.confirm({
                            content: n.createElement("div", null, "FullSpeed option will cause frequent API requests, you", " ", n.createElement("b", null, "have to"), " agree our", " ", n.createElement("a", {
                                target: "_blank",
                                style: {
                                    color: "#385898"
                                },
                                href: "https://esuit.dev/disclaimer"
                            }, "Disclaimer"), n.createElement("span", {
                                className: "disclaimer-level level1",
                                style: {
                                    margin: "0 4px",
                                    display: "inline-block",
                                    width: 12,
                                    height: 12,
                                    borderRadius: "50%",
                                    border: "1px solid rgba(0, 0, 0, 0.175)",
                                    background: "#52c41a",
                                    backgroundColor: "#52c31a"
                                }
                            }), " ", "to turn on this option"),
                            okText: "AGREE",
                            onOk: ()=>{
                                q().send("setPersistLocalStorage", B, 1),
                                s(!0)
                            }
                        }) : s(T)
                    }
                    async function P(T) {
                        await E(j.IMAGES_FORMAT_AS, T, "photos") && d(T)
                    }
                    async function k(T) {
                        await E(j.FILENAME_FORMATS, gi(T), "photos") && g(T)
                    }
                    async function F(T) {
                        await E(j.SKIP_DOWNLOADED_FILES, T, "photos") && a(T)
                    }
                    async function A(T) {
                        await E(j.FOLDER_NAME_RULE, T, "photos") && x(T)
                    }
                    return n.createElement(K.Provider, {
                        value: {
                            fetchLimit: y,
                            isSkipDownloadedFile: o,
                            isFullSpeed: r,
                            isGenFolder: l,
                            fileFormatAs: c,
                            fileNameFormatRule: f,
                            requestDelay: m,
                            folderNameRule: h,
                            setIsGenFolder: u,
                            setIsFullSpeed: C,
                            setFileFormatAs: P,
                            setFileNameFormatRule: k,
                            setIsSkipDownloadedFile: F,
                            setFolderNameRule: A,
                            setRequestDelay: v,
                            checkIfCanUseWithModal: E,
                            getFeatureLimitProcessTimeValue: D,
                            saveMemoSettings: _
                        }
                    }, e.children)
                }
                const ht = {
                    id: "442315268221",
                    createdAt: 1695526699,
                    index: 8,
                    uri: "https://scontent-lga3-2.cdninstagram.com/v/t51.2885-15/345242088_283736111641893782_n.jpg",
                    userName: "ESUIT.DEV"
                };
                function mt() {
                    var m, v, y;
                    const {isSkipDownloadedFile: e, isFullSpeed: t, isGenFolder: i, requestDelay: o, fileFormatAs: a, fileNameFormatRule: r, folderNameRule: s, setFolderNameRule: l, setFileNameFormatRule: u, setFileFormatAs: c, setRequestDelay: d, setIsSkipDownloadedFile: f, setIsFullSpeed: g, setIsGenFolder: h} = n.useContext(K)
                      , x = window.zKjQYvgSmF("fepNlsbEufnpD").getDarkModeSetting() === "ENABLED";
                    return n.createElement(p.Space, {
                        direction: "vertical",
                        size: 24,
                        style: {
                            width: "100%"
                        }
                    }, n.createElement(Mi, null, "Options:"), n.createElement(p.Space, {
                        direction: "horizontal",
                        size: [12, 12],
                        wrap: !0,
                        style: {
                            whiteSpace: "nowrap"
                        }
                    }, n.createElement(p.Checkbox, {
                        checked: t,
                        onChange: b=>g(b.target.checked)
                    }, n.createElement(Pe, {
                        title: "Download at full speed like a robot, click to see how to avoid account restrictions.",
                        linkPath: "/download-albums-for-facebook/how-to-avoid-account-restriction.html"
                    }, "⚡️Full Speed!")), n.createElement(p.Checkbox, {
                        checked: e,
                        onChange: b=>f(b.target.checked)
                    }, n.createElement(p.Tooltip, {
                        title: "If the file has already been downloaded before, it will be skipped to reduce network load.",
                        placement: "top"
                    }, n.createElement("span", null, "🔍Skip Downloaded files"))), n.createElement(p.Checkbox, {
                        checked: i,
                        onChange: b=>h(b.target.checked)
                    }, n.createElement(p.Tooltip, {
                        title: "Automatically download images into folders based on the author/group name.",
                        placement: "top"
                    }, n.createElement("span", null, "📁Gen-Folder")))), n.createElement(p.Row, {
                        gutter: 12,
                        style: {
                            width: "100%"
                        }
                    }, n.createElement(p.Col, {
                        span: 12
                    }, n.createElement("div", null, n.createElement("p", {
                        style: {
                            paddingBottom: 4,
                            marginBottom: 0,
                            marginTop: 0
                        }
                    }, n.createElement(Pe, {
                        title: "Click to see how to avoid account restrictions.",
                        linkPath: "/download-albums-for-facebook/how-to-avoid-account-restriction.html"
                    }, "⏱️Request Delay"), n.createElement(p.Tooltip, {
                        title: "If the FullSpeed option is disabled and you still find the requests too fast, you can set a delay time for each request."
                    }, n.createElement(p.Button, {
                        type: "link",
                        size: "small",
                        icon: n.createElement(J.QuestionCircleOutlined, null)
                    })), " ", ":"), n.createElement(p.Tooltip, {
                        title: t ? 'This feature does not work when the "⚡️FullSpeed" is enabled.' : ""
                    }, n.createElement(p.InputNumber, {
                        onChange: b=>d(b ?? 0),
                        value: o,
                        max: 30,
                        min: 0,
                        step: .1,
                        style: {
                            width: 150
                        },
                        addonAfter: "seconds",
                        disabled: t
                    })))), n.createElement(p.Col, {
                        span: 12
                    }, n.createElement("div", null, n.createElement("p", {
                        style: {
                            paddingBottom: 4,
                            marginBottom: 0,
                            marginTop: 0
                        }
                    }, "Images Format as:", " ", ((m = window.download_albums_for_facebook[j.FILENAME_FORMATS]) == null ? void 0 : m.needUpgrade) === !0 && n.createElement(p.Tooltip, {
                        title: "This feature is available for the free version and can only process the first 50 images."
                    }, n.createElement(p.Button, {
                        type: "link",
                        size: "small",
                        icon: n.createElement(J.QuestionCircleOutlined, null)
                    }))), n.createElement(p.Segmented, {
                        value: a,
                        options: [{
                            label: "original",
                            value: Q.ORIGINAL
                        }, {
                            label: "jpg",
                            value: Q.JPG
                        }, {
                            label: "png",
                            value: Q.PNG
                        }, {
                            label: "webp",
                            value: Q.WEBP
                        }],
                        onChange: b=>c(b)
                    }), a === Q.PNG && n.createElement("div", {
                        style: {
                            paddingTop: 4,
                            fontSize: 12
                        }
                    }, "⚠️ Notice: PNG format will result in larger file sizes."))), n.createElement(p.Col, {
                        span: 12
                    }, n.createElement("div", null, n.createElement("p", {
                        style: {
                            paddingBottom: 4,
                            marginBottom: 0,
                            marginTop: 24
                        }
                    }, n.createElement(Pe, {
                        title: "Click to see how to use this features",
                        linkPath: "/download-albums-for-facebook/how-to-use-mixin-filenaming-system.html"
                    }, "File naming rules"), ((v = window.download_albums_for_facebook[j.FILENAME_FORMATS]) == null ? void 0 : v.needUpgrade) === !0 && n.createElement(p.Tooltip, {
                        title: "This feature is available for the free version and can only process the first 50 images."
                    }, n.createElement(p.Button, {
                        type: "link",
                        size: "small",
                        icon: n.createElement(J.QuestionCircleOutlined, null)
                    })), ":", " "), n.createElement(rt, {
                        rule: r,
                        ext: ".jpg",
                        theme: x ? "dark" : "light",
                        fields: xe,
                        presets: ut,
                        exampleData: ht,
                        onUpdate: b=>{
                            u(b)
                        }
                    }))), i && n.createElement(p.Col, {
                        span: 12
                    }, n.createElement("div", null, n.createElement("p", {
                        style: {
                            paddingBottom: 4,
                            marginBottom: 0,
                            marginTop: 24
                        }
                    }, "Folder naming rules", ((y = window.download_albums_for_facebook[j.FOLDER_NAME_RULE]) == null ? void 0 : y.needUpgrade) === !0 && n.createElement(p.Tooltip, {
                        title: "This feature is available for the free version and can only process the first 50 images."
                    }, n.createElement(p.Button, {
                        type: "link",
                        size: "small",
                        icon: n.createElement(J.QuestionCircleOutlined, null)
                    })), ":", " "), n.createElement(rt, {
                        rule: s,
                        ext: "",
                        theme: x ? "dark" : "light",
                        fields: xe,
                        presets: ct,
                        exampleData: ht,
                        onUpdate: b=>{
                            l(b)
                        }
                    })))))
                }
                function Mi(e) {
                    return n.createElement("p", {
                        style: {
                            marginBottom: -22,
                            marginTop: 0
                        }
                    }, e.children)
                }
                function Ni(e) {
                    const t = `${e.extLink}/reviews`;
                    return w.jsxs("div", {
                        style: {
                            color: "inherit",
                            margin: "24px auto 0 auto"
                        },
                        children: [w.jsx("div", {
                            children: " 🙏We greatly appreciate your support! 🙏"
                        }), w.jsx(p.Rate, {
                            onChange: ()=>{
                                window.open(t, "_blank")
                            }
                            ,
                            defaultValue: 5
                        }), w.jsx("div", {
                            children: w.jsx("a", {
                                href: t,
                                target: "_blank",
                                children: "Help us out with a review for our Chrome extension!"
                            })
                        }), w.jsx("div", {
                            children: "Your feedback is essential.👍🏼👍🏼👍🏼"
                        })]
                    })
                }
                var O = (e=>(e[e.START = 0] = "START",
                e[e.DOWNLOADING = 1] = "DOWNLOADING",
                e[e.DONE = 2] = "DONE",
                e))(O || {});
                const z = n.createContext(null);
                function ft(e) {
                    const t = n.useRef(!0)
                      , i = n.useRef([])
                      , o = n.useRef(0)
                      , a = n.useRef(0)
                      , r = n.useRef(!1)
                      , s = n.useRef(null)
                      , l = n.useRef(!1)
                      , u = n.useRef(0)
                      , [c,d] = n.useState(0)
                      , [f,g] = n.useState(!1)
                      , [h,x] = n.useState(0);
                    n.useEffect(()=>{
                        !f && m()
                    }
                    , [f]);
                    function m() {
                        t.current = !0,
                        a.current = 0,
                        r.current = !1,
                        o.current = 0,
                        u.current = 0,
                        s.current = null,
                        l.current = !1,
                        je(),
                        window.folderHandlerCacheMap = {},
                        x(0),
                        y([]),
                        v()
                    }
                    const v = k=>{
                        if (k)
                            return setTimeout(()=>{
                                d(Math.random)
                            }
                            , 600);
                        d(Math.random)
                    }
                    ;
                    function y(k) {
                        i.current = k,
                        v()
                    }
                    function b(k) {
                        i.current = i.current.concat(k),
                        v()
                    }
                    function E(k, F) {
                        const A = i.current.find(T=>T.id === k);
                        A && (A.status = F,
                        v())
                    }
                    function D() {
                        y([])
                    }
                    function _(k) {
                        u.current = k,
                        v()
                    }
                    function C(k) {
                        a.current = k,
                        v()
                    }
                    function P(k) {
                        r.current = k,
                        v()
                    }
                    return n.createElement(z.Provider, {
                        value: {
                            open: f,
                            setOpen: g,
                            isStopManually: t,
                            photosArrRef: i,
                            downloadCountRef: o,
                            avoidAccountRestrictMSRef: a,
                            setAvoidAccountRestrictMSRef: C,
                            isFetchingNextPageRef: r,
                            setIsFetchingNextPageRef: P,
                            resumeDownloadPayload: s,
                            isOnLimit: l,
                            requestDelayMsRef: u,
                            setRequestDelayMsRef: _,
                            setPhotos: y,
                            appendPhotos: b,
                            setPhotoStatus: E,
                            clearPhotos: D,
                            setStep: x,
                            step: h,
                            resetStatus: m,
                            updateUI: v
                        }
                    }, e.children)
                }
                function Oi() {
                    return n.createElement("p", {
                        style: {
                            opacity: .6
                        }
                    }, "Have issues or 🐛Bug during Download?", " ", n.createElement("a", {
                        href: "https://www.facebook.com/esuitdev/",
                        target: "_blank",
                        style: {
                            paddingRight: 8
                        }
                    }, "Give us feedback on Facebook"), "and we'll help you fix it!")
                }
                function wt() {
                    return window.showDirectoryPicker ? n.createElement(p.Space, {
                        direction: "vertical"
                    }, n.createElement(Bi, null), n.createElement("p", {
                        style: {
                            color: "var(--secondary-text)",
                            display: "flex",
                            flexDirection: "row",
                            flexWrap: "wrap",
                            justifyContent: "flex-start",
                            alignItems: "center"
                        }
                    }, "It Seems", " ", n.createElement("img", {
                        src: window.download_albums_for_facebook_icon,
                        style: {
                            width: 24,
                            height: 24,
                            display: "block",
                            margin: "0 8px"
                        }
                    }), Ke, " not working right now.", n.createElement("a", {
                        href: "https://www.facebook.com/esuitdev/",
                        target: "_blank",
                        style: {
                            paddingRight: 8
                        }
                    }, "Give us feedback on Facebook"), "and we'll help you fix it!")) : n.createElement("p", {
                        style: {
                            color: "var(--secondary-text)",
                            display: "flex",
                            flexDirection: "row",
                            flexWrap: "wrap",
                            justifyContent: "flex-start",
                            alignItems: "center"
                        }
                    }, n.createElement("img", {
                        src: window.download_albums_for_facebook_icon,
                        style: {
                            width: 24,
                            height: 24,
                            display: "block",
                            margin: "0 8px"
                        }
                    }), "fileSystemAPI is not enabled,", " ", n.createElement("a", {
                        href: "https://github.com/brave/brave-browser/issues/18979#issuecomment-956513079",
                        target: "_blank"
                    }, "please click here for details"), ".")
                }
                function Bi() {
                    const e = btoa(encodeURIComponent(window.location.href))
                      , [t,i] = p.message.useMessage();
                    function o() {
                        navigator.clipboard.writeText(btoa(encodeURIComponent(window.location.href))),
                        t.success("Copy successful.")
                    }
                    return n.createElement("div", null, i, n.createElement(p.Tooltip, {
                        title: "Please send this information to the developer for quick bug identification when submit a feedback."
                    }, n.createElement("div", {
                        style: {
                            color: "var(--secondary-text)"
                        }
                    }, "CaseID: ", e)), n.createElement(p.Button, {
                        size: "small",
                        onClick: o
                    }, "Copy"))
                }
                function vt() {
                    const {downloadCountRef: e} = n.useContext(z);
                    return n.createElement(n.Fragment, null, n.createElement(p.Alert, {
                        type: "success",
                        message: n.createElement(p.Space, {
                            direction: "vertical",
                            size: 12,
                            style: {
                                textAlign: "center",
                                width: "100%"
                            }
                        }, n.createElement("p", {
                            style: {
                                fontSize: 24,
                                margin: "8px 0px"
                            }
                        }, "🎉🎉🎉 Download Successful"), n.createElement("div", null, e.current, " photos"), n.createElement(Ni, {
                            extLink: jt
                        }), n.createElement(Oi, null))
                    }))
                }
                const Pi = "4.4.0";
                function yt() {
                    return n.createElement(p.Space, {
                        size: 8
                    }, n.createElement(p.Avatar, {
                        src: window.download_albums_for_facebook_icon,
                        shape: "square"
                    }), n.createElement("span", null, Ke, " ", n.createElement("span", {
                        style: {
                            color: "#999",
                            fontSize: 12
                        }
                    }, "v", Pi), " ", We.length > 0 ? n.createElement("a", {
                        href: We,
                        target: "_blank",
                        style: {
                            fontSize: 12,
                            color: "rgb(47, 129, 247)"
                        }
                    }, "what's new?") : null), n.createElement("div", {
                        style: {
                            marginLeft: 24
                        }
                    }, n.createElement("a", {
                        href: "javascript:;",
                        style: {
                            fontSize: 12,
                            color: "rgb(47, 129, 247)"
                        },
                        onClick: ()=>q().send("visitPricing")
                    }, "pricing")), n.createElement("div", {
                        style: {
                            marginLeft: 24
                        }
                    }, n.createElement("a", {
                        href: "https://esuit.dev/faq",
                        target: "_blank",
                        style: {
                            fontSize: 12,
                            color: "rgb(47, 129, 247)"
                        }
                    }, "❓FAQ")))
                }
                let _e = [];
                function Li() {
                    const e = n.useRef([])
                      , t = n.useMemo(()=>M.throttle(i, 5e3), []);
                    n.useEffect(()=>{
                        q().send("getDownloadedFilesId").then(r=>{
                            e.current = r
                        }
                        )
                    }
                    , []);
                    function i() {
                        q().send("appendDownloadedFilesId", _e),
                        _e = []
                    }
                    function o(r) {
                        return e.current.includes(r)
                    }
                    function a(r) {
                        e.current.includes(r) || _e.includes(r) || (e.current.push(r),
                        _e.push(r),
                        t())
                    }
                    return {
                        isFileIdDownloaded: o,
                        appendDownloadedFile: a,
                        downloadedFilesId: e
                    }
                }
                const Ue = n.createContext(null);
                function bt(e) {
                    const {updateUI: t} = n.useContext(z)
                      , {isFileIdDownloaded: i, appendDownloadedFile: o, downloadedFilesId: a} = Li();
                    function r() {
                        a.current = [],
                        q().send("clearDownloadedFilesId"),
                        t()
                    }
                    return n.createElement(Ue.Provider, {
                        value: {
                            downloadedFilesId: a,
                            isFileIdDownloaded: i,
                            appendDownloadedFile: o,
                            clearDownloadedFilesIdCache: r
                        }
                    }, e.children)
                }
                function xt() {
                    const {clearDownloadedFilesIdCache: e, downloadedFilesId: t} = n.useContext(Ue)
                      , {messageApi: i} = n.useContext(ae);
                    function o() {
                        e(),
                        i.success("Cleanup successful.")
                    }
                    return t.current.length === 0 ? n.createElement(n.Fragment, null) : n.createElement(p.Tooltip, {
                        title: n.createElement(n.Fragment, null, "It has saved ", t.current.length.toLocaleString(), " ", `downloaded image's ID (stored in browser), which will be used for the "Skip Downloaded files" feature. Click to clean.`)
                    }, n.createElement(p.Button, {
                        icon: n.createElement(J.DatabaseOutlined, null),
                        size: "small",
                        type: "text",
                        onClick: o
                    }, n.createElement("span", {
                        style: {
                            display: "inline-block",
                            minWidth: 50,
                            textAlign: "left",
                            fontSize: 12
                        }
                    }, t.current.length.toLocaleString())))
                }
                function Et() {
                    const {messageApi: e} = n.useContext(ae);
                    function t() {
                        navigator.clipboard.writeText(btoa(encodeURIComponent(window.location.href))),
                        e.success("Copy successful.")
                    }
                    return n.createElement(p.Tooltip, {
                        title: "Encountering an issue? Click this icon to copy the Case ID and contact us on Facebook."
                    }, n.createElement(p.Button, {
                        type: "text",
                        size: "small",
                        onClick: t
                    }, "🐛"))
                }
                const Te = n.createContext(null)
                  , He = n.createContext(null);
                function ji(e) {
                    const {collectionToken: t} = n.useContext(Te)
                      , {open: i, downloadCountRef: o, resumeDownloadPayload: a} = n.useContext(z)
                      , r = q()
                      , [s,l] = n.useState(null);
                    n.useEffect(()=>{
                        t && i && r.send("getResumeCursor", t).then(d=>{
                            l(d)
                        }
                        )
                    }
                    , [t, i]);
                    function u(d) {
                        var g, h;
                        if (a.current && ((g = a.current) == null ? void 0 : g.lastCursor) === d)
                            return;
                        const f = ((h = a.current) == null ? void 0 : h.lastIndex) ?? 0;
                        r.send("setResumeCursor", {
                            collectionToken: t,
                            lastCursor: d,
                            lastIndex: o.current + f
                        })
                    }
                    function c() {
                        t && r.send("removeResumeCursor", t)
                    }
                    return n.createElement(He.Provider, {
                        value: {
                            resumeCursor: s,
                            updateResumeCursor: u,
                            removeResumeCursor: c
                        }
                    }, e.children)
                }
                const De = "photodownloderdirhandler";
                function qe() {
                    const {messageApi: e} = n.useContext(ae);
                    function t() {
                        return new Promise(a=>{
                            try {
                                window.showDirectoryPicker({
                                    mode: "readwrite"
                                }).then(async r=>{
                                    window[De] = r,
                                    await window[De].requestPermission({
                                        writable: !0
                                    }),
                                    a(!0)
                                }
                                ).catch(r=>{
                                    console.error(r),
                                    o(r),
                                    a(!1)
                                }
                                )
                            } catch (r) {
                                console.error(r),
                                o(r),
                                a(!1)
                            }
                        }
                        )
                    }
                    function i() {
                        if (!window[De])
                            throw new Error("DirectoryPicker was undefined");
                        return window[De]
                    }
                    return {
                        requestDirPicker: t,
                        getDirPickerHandler: i
                    };
                    function o(a) {
                        try {
                            const r = a.toString();
                            ~r.indexOf("NotAllowedError") ? e.error(n.createElement("div", null, "It seems that the website has disabled the image download permission. Please follow the instructions in the video.", n.createElement("br", null), n.createElement("a", {
                                href: "https://youtu.be/131AOjjYHX0",
                                target: "_blank"
                            }, "https://youtu.be/131AOjjYHX0"))) : ~r.indexOf("showDirectoryPicker") ? e.error(n.createElement("div", null, "Your browser has not enabled the fileSystemAPI, please follow the instructions in the document to enable it.", n.createElement("br", null), n.createElement("a", {
                                href: "https://github.com/brave/brave-browser/issues/18979#issuecomment-956513079",
                                target: "_blank"
                            }, "https://github.com/brave/brave-browser/issues/18979#issuecomment-956513079"))) : ~r.indexOf("The user aborted a request") ? e.error("We need permission to download the image to the folder, but you have denied it.") : e.error("Permission Denied")
                        } catch (r) {
                            e.error("Unknown error occurred"),
                            console.log(r)
                        }
                    }
                }
                function zi(e) {
                    const {resumeCursor: t} = n.useContext(He)
                      , {resumeDownloadPayload: i} = n.useContext(z)
                      , {checkIfCanUseWithModal: o} = n.useContext(K)
                      , {requestDirPicker: a} = qe();
                    function r() {
                        o(j.RESUME_DOWNLOADING, null, "photo").then(s=>{
                            s && a().then(l=>{
                                l && (i.current = t,
                                i.current && e.onClick(i.current.lastCursor))
                            }
                            )
                        }
                        )
                    }
                    if (t)
                        return n.createElement(p.Popover, {
                            title: "Resume downloading",
                            content: n.createElement(p.Space, {
                                direction: "vertical",
                                size: 8,
                                style: {
                                    whiteSpace: "nowrap",
                                    fontSize: 14
                                }
                            }, n.createElement("div", null, "From: ", $.unix(t.lastUpdateAt).fromNow()), n.createElement("div", null, "Date:", " ", $.unix(t.lastUpdateAt).format("MM/DD/YYYY hh:mm:ss")), n.createElement("div", null, "Index: ", t.lastIndex))
                        }, n.createElement(p.Button, {
                            type: "primary",
                            ghost: !0,
                            onClick: r
                        }, "Resume downloading?"))
                }
                function Ui(e) {
                    n.useEffect(()=>(document.body.addEventListener("keypress", t),
                    ()=>{
                        document.body.removeEventListener("keypress", t)
                    }
                    ), []);
                    function t(i) {
                        i.code === "Enter" && e.onEnter()
                    }
                }
                function _t(e) {
                    const {requestDirPicker: t} = qe();
                    Ui({
                        onEnter() {
                            i()
                        }
                    });
                    function i() {
                        t().then(o=>{
                            o && e.onClick()
                        }
                        )
                    }
                    return n.createElement(p.Tooltip, {
                        title: n.createElement("div", null, "Hotkey: ", n.createElement("b", null, "Enter"))
                    }, n.createElement(p.Button, {
                        type: "primary",
                        onClick: i
                    }, "Select a Folder to Download"))
                }
                function Tt(e, t) {
                    const i = window.zKjQYvgSmF("pjubSmfyjQcfX").get();
                    return {
                        UFI2CommentsProvider_commentsKey: "CometPhotoRootQuery",
                        displayCommentsContextEnableComment: null,
                        displayCommentsContextIsAdPreview: null,
                        displayCommentsContextIsAggregatedShare: null,
                        displayCommentsContextIsStorySet: null,
                        displayCommentsFeedbackContext: null,
                        feedbackSource: 65,
                        feedLocation: "COMET_MEDIA_VIEWER",
                        focusCommentID: null,
                        isMediaset: !!e,
                        mediasetToken: e || null,
                        nodeID: t,
                        privacySelectorRenderLocation: "COMET_MEDIA_VIEWER",
                        renderLocation: "permalink",
                        scale: i,
                        useDefaultActor: !1,
                        useHScroll: !1
                    }
                }
                function Dt() {
                    const {isFullSpeed: e} = n.useContext(K)
                      , {step: t, setAvoidAccountRestrictMSRef: i} = n.useContext(z)
                      , o = n.useRef(0);
                    n.useEffect(()=>{
                        o.current = 0
                    }
                    , [t]);
                    async function a() {
                        if (e)
                            return;
                        o.current += 1;
                        let r = o.current * 10;
                        if (r = Math.ceil(Math.random() * r + 500),
                        r < 1e3)
                            return i(0);
                        if (r > 5e3) {
                            o.current = 0,
                            i(0);
                            return
                        }
                        i(r),
                        await new Promise(s=>setTimeout(()=>{
                            i(0),
                            s()
                        }
                        , r))
                    }
                    return {
                        AvoidAccountRestrict: a
                    }
                }
                const Ce = n.createContext(null);
                window.folderHandlerCacheMap = new Map;
                async function Hi(e, t) {
                    const i = window.folderHandlerCacheMap[t.join("_")];
                    if (i)
                        return i;
                    let o = e;
                    for (const a of t)
                        o = await o.getDirectoryHandle(a, {
                            create: !0
                        });
                    return window.folderHandlerCacheMap[t.join("_")] = o,
                    o
                }
                async function qi(e, t) {
                    if (e.type === t)
                        return e;
                    let {width: i, height: o, type: a, img: r, objUrl: s} = await Vi(e)
                      , l = document.createElement("canvas")
                      , u = l.getContext("2d");
                    return l.width = i,
                    l.height = o,
                    u.drawImage(r, 0, 0),
                    new Promise(c=>{
                        l.toBlob(d=>{
                            URL.revokeObjectURL(s),
                            l.remove(),
                            l = null,
                            r.remove(),
                            r = null,
                            u = null,
                            c(d)
                        }
                        , t, "0.95")
                    }
                    )
                }
                async function Vi(e) {
                    return new Promise(t=>{
                        let i = new Image
                          , o = URL.createObjectURL(e);
                        i.onload = function() {
                            let a = i.width
                              , r = i.height;
                            t({
                                width: a,
                                height: r,
                                type: e.type,
                                objUrl: o,
                                img: i
                            })
                        }
                        ,
                        i.src = o
                    }
                    )
                }
                function $i(e) {
                    return {
                        [Q.PNG]: "png",
                        [Q.JPG]: "jpg",
                        [Q.WEBP]: "webp"
                    }[e]
                }
                function Ct(e) {
                    const i = new URL(e).pathname.split(".");
                    return i[i.length - 1]
                }
                function Ki(e, t) {
                    const i = window.URL.createObjectURL(e)
                      , o = document.createElement("a");
                    o.style.display = "none",
                    o.href = i,
                    o.download = t,
                    document.body.appendChild(o),
                    o.click(),
                    window.URL.revokeObjectURL(i)
                }
                function kt(e) {
                    const {step: t, setPhotoStatus: i, downloadCountRef: o, resumeDownloadPayload: a} = n.useContext(z)
                      , {isFileIdDownloaded: r, appendDownloadedFile: s} = n.useContext(Ue)
                      , {isSkipDownloadedFile: l, isGenFolder: u, fileFormatAs: c, fileNameFormatRule: d, folderNameRule: f, getFeatureLimitProcessTimeValue: g} = n.useContext(K);
                    n.useContext(e ? Ce : Te),
                    n.useEffect(()=>{}
                    , [t]);
                    const {getDirPickerHandler: h} = qe();
                    async function x(m) {
                        var k;
                        let v = await (await fetch(m.uri)).blob();
                        if (!v.type.startsWith("image")) {
                            i(m.id, "error");
                            return
                        }
                        if (l && r(m.id) || ~m.uri.indexOf(".mp4") || ~m.uri.indexOf(".webm"))
                            return i(m.id, "skip");
                        o.current++;
                        let y = ((k = a.current) == null ? void 0 : k.lastIndex) ?? 0;
                        y += o.current;
                        let b = Ne({
                            rule: g({
                                featureKey: j.FILENAME_FORMATS,
                                currentIndex: y,
                                currentValue: d
                            }),
                            fields: xe,
                            data: {
                                id: m.id,
                                index: y,
                                createdAt: m.createdAt,
                                userName: m.userName,
                                uri: m.uri,
                                userId: m.userId
                            }
                        });
                        b = `${b}.${Ct(m.uri)}`;
                        let E = g({
                            featureKey: j.IMAGES_FORMAT_AS,
                            currentIndex: y,
                            currentValue: c
                        });
                        if (E !== Q.ORIGINAL) {
                            const F = await Ii(m.uri);
                            E !== F && (v = await qi(v, E),
                            b = dt(b) + `.${$i(E)}`)
                        }
                        b = ie(b);
                        let D = [];
                        u ? D = Ne({
                            rule: g({
                                featureKey: j.FOLDER_NAME_RULE,
                                currentIndex: y,
                                currentValue: f
                            }),
                            fields: xe,
                            data: {
                                id: m.id,
                                index: y,
                                createdAt: m.createdAt,
                                userName: m.folderName,
                                uri: m.uri,
                                userId: m.userId
                            }
                        }).split("/").filter(A=>A.trim().length > 0).map(A=>Yt(A)) : D = [];
                        let _ = h();
                        if (D.length > 0 && (_ = await Hi(_, D)),
                        window.downloadedFilenameCountMap = window.downloadedFilenameCountMap || {},
                        window.downloadedFilenameCountMap[b] !== void 0) {
                            window.downloadedFilenameCountMap[b] = window.downloadedFilenameCountMap[b] + 1;
                            const F = b.split(".");
                            F.splice(-1, 0, window.downloadedFilenameCountMap[b]),
                            b = F.join(".")
                        } else
                            window.downloadedFilenameCountMap[b] = 0;
                        let C = await _.getFileHandle(b, {
                            create: !0
                        })
                          , P = await C.createWritable();
                        await P.write(v),
                        await P.close(),
                        v = null,
                        C = null,
                        P = null,
                        i(m.id, "done"),
                        s(m.id),
                        await bi(Math.ceil(Math.random() * 200 + 50) / 1e3)
                    }
                    return {
                        download: x
                    }
                }
                function Ft() {
                    const {requestDelay: e, isFullSpeed: t} = n.useContext(K)
                      , {setRequestDelayMsRef: i} = n.useContext(z);
                    async function o() {
                        if (e === 0 || t)
                            return;
                        const a = e * 1e3;
                        e > 1 && i(a),
                        await new Promise(r=>setTimeout(()=>{
                            i(0),
                            r()
                        }
                        , a))
                    }
                    return {
                        requestDelay: o
                    }
                }
                const Wi = window.zKjQYvgSmF("pjubSmfyjQcfX").get();
                function Yi() {
                    const e = n.useContext(window.zKjQYvgSmF("uyfuopDfspuTfuvpSufnpD"))
                      , {graphQLName: t, collectionToken: i, paths: o, requestExtraPayload: a={}, folderName: r=void 0} = n.useContext(Te)
                      , {fetchLimit: s} = n.useContext(K)
                      , {isOnLimit: l, isStopManually: u, downloadCountRef: c, photosArrRef: d, setIsFetchingNextPageRef: f, appendPhotos: g, setPhotoStatus: h} = n.useContext(z)
                      , {removeResumeCursor: x, updateResumeCursor: m} = n.useContext(He)
                      , {AvoidAccountRestrict: v} = Dt()
                      , {findValueFromLoadQueryData: y, loadQuery: b} = lt()
                      , {download: E} = kt()
                      , {requestDelay: D} = Ft()
                      , _ = n.useRef(0);
                    n.useEffect(()=>{
                        if (!i)
                            throw new Error("found collectionToken as undefined!")
                    }
                    , []);
                    function C(F) {
                        return u.current ? Promise.resolve() : c.current >= s ? (l.current = !0,
                        Promise.resolve()) : (F && m(F),
                        new Promise(async(A,T)=>{
                            await v(),
                            await D(),
                            f(!0),
                            b(t, {
                                count: 8,
                                scale: Wi,
                                cursor: F || null,
                                id: i,
                                ...a
                            }, !0).then(async B=>{
                                if (f(!1),
                                !B[0])
                                    throw new Error(`API request error 142 collectionToken:${i}`);
                                const H = M.get(B[0], o.edgesPath, [])
                                  , ee = M.get(B[0], o.pageInfoPath, {})
                                  , V = ee.has_next_page ?? !1
                                  , re = ee.end_cursor ?? null;
                                let de = [];
                                for (let W of H) {
                                    const L = typeof o.viewerLinkPath == "string" ? M.get(W, o.viewerLinkPath, "") : o.viewerLinkPath(W);
                                    M.get(W, o.nodeTypePath, "") === "Photo" && de.push({
                                        id: M.get(W, o.idPath, ""),
                                        thumbnail: M.get(W, o.thumbnailUriPath, ""),
                                        uri: L,
                                        userId: "",
                                        userName: "",
                                        folderName: "",
                                        createdAt: 0,
                                        status: "waiting"
                                    })
                                }
                                return await P(de),
                                V ? await C(re) : x(),
                                A()
                            }
                            ).catch(B=>{
                                T(B)
                            }
                            )
                        }
                        ))
                    }
                    async function P(F) {
                        F = F.filter(A=>!d.current.find(T=>T.id === A.id)),
                        g(F);
                        for (let A of F) {
                            if (c.current >= s) {
                                l.current = !0;
                                return
                            }
                            if (await v(),
                            await D(),
                            u.current)
                                return;
                            h(A.id, "downloading");
                            let T = A;
                            try {
                                T = await k(A),
                                _.current = 0;
                                try {
                                    await E(T)
                                } catch (B) {
                                    h(A.id, "error"),
                                    console.error("download HD image error: ", B, A)
                                }
                            } catch (B) {
                                if (console.error("fetch HD image error: ", B, A),
                                h(A.id, "error"),
                                _.current++,
                                _.current > 5)
                                    throw new Error("There have been 5 consecutive request errors, and the program has been terminated.")
                            }
                        }
                    }
                    async function k(F) {
                        var B;
                        let A = new URLSearchParams(F.uri.split("?")[1])
                          , T = A.get("set");
                        if (A = null,
                        !T) {
                            const H = await e.fetchRoute(F.uri);
                            (B = H == null ? void 0 : H.params) != null && B.set && (T = H.params.set)
                        }
                        return new Promise((H,ee)=>{
                            b("CometPhotoRootContentQuery", Tt(T, F.id), !0).then(async V=>{
                                if (!V[0])
                                    throw console.log("photo", F),
                                    new Error("API request error 141 photo:");
                                const re = M.get(V[0], "data.currMedia.owner.id")
                                  , de = y(V, "data.owner.name");
                                let W = r || (window.zKjqYvcSmF(re, "name") ?? de ?? "unknown");
                                const L = M.get(V[0], "data.currMedia.image.uri")
                                  , he = {
                                    id: M.get(V[0], "data.currMedia.id", ""),
                                    userId: re,
                                    thumbnail: F.thumbnail,
                                    uri: L,
                                    folderName: ie(r ?? W),
                                    userName: ie(window.zKjqYvcSmF(re, "name") ?? W),
                                    createdAt: M.get(V[0], "data.currMedia.created_time", 0),
                                    status: F.status
                                };
                                H(he)
                            }
                            ).catch(V=>{
                                ee(V)
                            }
                            )
                        }
                        )
                    }
                    return {
                        startFetchAndDownload: C
                    }
                }
                var Qi = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
                function Gi(e) {
                    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
                }
                var At = {
                    exports: {}
                };
                (function(e, t) {
                    (function(i, o) {
                        e.exports = o()
                    }
                    )(Qi, function() {
                        return function(i, o, a) {
                            i = i || {};
                            var r = o.prototype
                              , s = {
                                future: "in %s",
                                past: "%s ago",
                                s: "a few seconds",
                                m: "a minute",
                                mm: "%d minutes",
                                h: "an hour",
                                hh: "%d hours",
                                d: "a day",
                                dd: "%d days",
                                M: "a month",
                                MM: "%d months",
                                y: "a year",
                                yy: "%d years"
                            };
                            function l(c, d, f, g) {
                                return r.fromToBase(c, d, f, g)
                            }
                            a.en.relativeTime = s,
                            r.fromToBase = function(c, d, f, g, h) {
                                for (var x, m, v, y = f.$locale().relativeTime || s, b = i.thresholds || [{
                                    l: "s",
                                    r: 44,
                                    d: "second"
                                }, {
                                    l: "m",
                                    r: 89
                                }, {
                                    l: "mm",
                                    r: 44,
                                    d: "minute"
                                }, {
                                    l: "h",
                                    r: 89
                                }, {
                                    l: "hh",
                                    r: 21,
                                    d: "hour"
                                }, {
                                    l: "d",
                                    r: 35
                                }, {
                                    l: "dd",
                                    r: 25,
                                    d: "day"
                                }, {
                                    l: "M",
                                    r: 45
                                }, {
                                    l: "MM",
                                    r: 10,
                                    d: "month"
                                }, {
                                    l: "y",
                                    r: 17
                                }, {
                                    l: "yy",
                                    d: "year"
                                }], E = b.length, D = 0; D < E; D += 1) {
                                    var _ = b[D];
                                    _.d && (x = g ? a(c).diff(f, _.d, !0) : f.diff(c, _.d, !0));
                                    var C = (i.rounding || Math.round)(Math.abs(x));
                                    if (v = x > 0,
                                    C <= _.r || !_.r) {
                                        C <= 1 && D > 0 && (_ = b[D - 1]);
                                        var P = y[_.l];
                                        h && (C = h("" + C)),
                                        m = typeof P == "string" ? P.replace("%d", C) : P(C, d, _.l, v);
                                        break
                                    }
                                }
                                if (d)
                                    return m;
                                var k = v ? y.future : y.past;
                                return typeof k == "function" ? k(m) : k.replace("%s", m)
                            }
                            ,
                            r.to = function(c, d) {
                                return l(c, d, this, !0)
                            }
                            ,
                            r.from = function(c, d) {
                                return l(c, d, this)
                            }
                            ;
                            var u = function(c) {
                                return c.$u ? a.utc() : a()
                            };
                            r.toNow = function(c) {
                                return this.to(u(this), c)
                            }
                            ,
                            r.fromNow = function(c) {
                                return this.from(u(this), c)
                            }
                        }
                    })
                }
                )(At);
                var Zi = At.exports;
                const Ji = Gi(Zi);
                $.extend(Ji);
                function Xi() {
                    const {resetStatus: e, setOpen: t, step: i, isStopManually: o, setStep: a, isOnLimit: r, updateUI: s} = n.useContext(z)
                      , {isSkipDownloadedFile: l, saveMemoSettings: u} = n.useContext(K)
                      , {modalApi: c} = n.useContext(ae)
                      , {startFetchAndDownload: d} = Yi();
                    function f(g) {
                        u(),
                        je(),
                        q().send("consumeFeaturesTreeTryByMemoUIConfigs", {
                            isSkipDownloadedFile: l
                        }),
                        o.current = !1,
                        a(O.DOWNLOADING),
                        d(g).then(()=>{
                            if (r.current)
                                return s(!0);
                            a(O.DONE)
                        }
                        ).catch(h=>{
                            console.error(h),
                            o.current = !0,
                            st(c, h)
                        }
                        )
                    }
                    return n.createElement(p.Row, {
                        style: {
                            width: "100%"
                        },
                        justify: "space-between",
                        align: "middle"
                    }, n.createElement(p.Space, {
                        size: 8
                    }, n.createElement(xt, null), n.createElement(Et, null)), n.createElement(p.Space, {
                        size: 24
                    }, i === O.START && n.createElement(n.Fragment, null, n.createElement(p.Button, {
                        type: "text",
                        onClick: ()=>t(!1)
                    }, "Close"), n.createElement(_t, {
                        onClick: ()=>f()
                    }), n.createElement(zi, {
                        onClick: f
                    })), i === O.DOWNLOADING && n.createElement(n.Fragment, null, n.createElement(p.Button, {
                        type: "primary",
                        danger: !0,
                        onClick: ()=>{
                            o.current = !0,
                            a(O.DONE)
                        }
                    }, "Stop")), i === O.DONE && n.createElement(n.Fragment, null, n.createElement(p.Button, {
                        type: "text",
                        onClick: ()=>t(!1)
                    }, "Close"), n.createElement(p.Button, {
                        onClick: ()=>e()
                    }, "ReDownload"))))
                }
                function It() {
                    const {photosArrRef: e, downloadCountRef: t, isFetchingNextPageRef: i, avoidAccountRestrictMSRef: o, isOnLimit: a, requestDelayMsRef: r} = n.useContext(z)
                      , {fetchLimit: s} = n.useContext(K)
                      , l = n.useRef();
                    return n.useEffect(()=>{
                        l.current && (l.current.scrollTop = l.current.scrollHeight)
                    }
                    , [e.current]),
                    n.createElement(p.Space, {
                        direction: "vertical",
                        size: 8,
                        style: {
                            width: "100%",
                            position: "relative"
                        }
                    }, n.createElement("div", null, t.current, " images have already been downloaded."), n.createElement("div", {
                        ref: l,
                        style: {
                            height: 350,
                            width: "100%",
                            overflow: "auto",
                            overflowX: "hidden",
                            position: "relative"
                        }
                    }, e.current.slice(-78).map(u=>n.createElement("div", {
                        key: u.id,
                        style: {
                            position: "relative",
                            display: "inline-block",
                            width: 50,
                            height: 50,
                            marginRight: 8,
                            marginBottom: 8
                        }
                    }, n.createElement("div", {
                        style: {
                            backgroundImage: `url(${u.thumbnail})`,
                            width: 50,
                            height: 50,
                            backgroundPosition: "center",
                            backgroundSize: "contain",
                            backgroundRepeat: "no-repeat",
                            borderRadius: 4
                        }
                    }), u.status !== "waiting" && n.createElement(Ri, null, u.status === "done" && n.createElement(J.CheckOutlined, {
                        style: {
                            color: "#A3E636",
                            fontSize: 24
                        }
                    }), u.status === "skip" && n.createElement("span", {
                        style: {
                            fontSize: 14,
                            color: "#fff"
                        }
                    }, "skip"), u.status === "downloading" && n.createElement(J.LoadingOutlined, {
                        spin: !0,
                        style: {
                            fontSize: 24,
                            color: "#fff"
                        }
                    }), u.status === "error" && n.createElement(J.CloseOutlined, {
                        style: {
                            fontSize: 24,
                            color: "#f20"
                        }
                    }))))), a.current && n.createElement("div", {
                        style: {
                            position: "absolute",
                            left: 0,
                            right: 0,
                            bottom: 0,
                            top: 0,
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "center",
                            alignItems: "center",
                            backgroundColor: "var(--overlay-alpha-80)",
                            zIndex: 9
                        }
                    }, n.createElement(p.Alert, {
                        type: "warning",
                        style: {
                            width: 420
                        },
                        message: n.createElement(p.Space, {
                            direction: "vertical",
                            size: 12
                        }, n.createElement("div", null, "For our valued free users, we currently offer a generous allotment of ", n.createElement("b", null, s), " images per queue. However, we would like to extend an invitation for you to upgrade and enjoy the benefits of unlimited downloads."), n.createElement(p.Button, {
                            type: "primary",
                            onClick: ()=>q().send("visitPricing")
                        }, "Upgrade Now!"))
                    })), n.createElement("div", null, i.current && n.createElement("span", null, n.createElement(p.Spin, {
                        size: "small"
                    }), n.createElement("span", {
                        style: {
                            paddingLeft: 6,
                            color: "#3b82f6"
                        }
                    }, "fetching next page.")), r.current ? n.createElement("span", null, n.createElement(p.Spin, {
                        size: "small"
                    }), n.createElement("span", {
                        style: {
                            paddingLeft: 6
                        }
                    }, "Request delay, please wait for", " ", (r.current / 1e3).toFixed(1), " seconds.")) : n.createElement(n.Fragment, null), o.current ? n.createElement("span", null, n.createElement(p.Spin, {
                        size: "small"
                    }), n.createElement("span", {
                        style: {
                            paddingLeft: 6,
                            color: "#DC2625"
                        }
                    }, "To avoid account restrictions, please wait for", " ", (o.current / 1e3).toFixed(1), " seconds.")) : n.createElement(n.Fragment, null)))
                }
                function Ri(e) {
                    return n.createElement("div", {
                        style: {
                            position: "absolute",
                            left: 0,
                            right: 0,
                            top: 0,
                            bottom: 0,
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            backgroundColor: "rgba(0,0,0,0.4)"
                        }
                    }, e.children)
                }
                function eo() {
                    const e = window.zKjQYvgSmF("sfidubqtjEsfuvpSufnpDftv")();
                    n.useEffect(()=>{
                        window.zKjQYvgSmF("sfebpmuppC").loadModules(["CometPhotoRoot.react"]),
                        e.prefetchRouteQueries(`${window.location.origin}/photo.php?fbid=10111561304664571&set=t.4&type=3`)
                    }
                    , [])
                }
                function to() {
                    const {open: e, setOpen: t, step: i} = n.useContext(z);
                    return eo(),
                    n.createElement(n.Fragment, null, n.createElement(p.Modal, {
                        open: e,
                        onCancel: ()=>t(!1),
                        width: 840,
                        title: n.createElement(yt, null),
                        footer: null,
                        bodyStyle: {
                            height: 460,
                            color: "var(--secondary-text)"
                        }
                    }, n.createElement("div", {
                        style: {
                            height: "100%",
                            width: "100%",
                            display: "flex",
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, n.createElement(p.Space, {
                        direction: "vertical",
                        size: 12,
                        style: {
                            width: "100%"
                        }
                    }, i === O.START && n.createElement(n.Fragment, null, n.createElement(mt, null)), i === O.DOWNLOADING && n.createElement(n.Fragment, null, n.createElement(It, null)), i === O.DONE && n.createElement(n.Fragment, null, n.createElement(vt, null), n.createElement(Qe, {
                        extsProjectIdArr: ["download-albums-for-instagram", "export-posts-for-facebook"],
                        perRow: 2
                    }))), n.createElement(Xi, null))), n.createElement(p.Button, {
                        onClick: ()=>t(!0),
                        style: {
                            marginBottom: 12
                        }
                    }, n.createElement(p.Avatar, {
                        style: {
                            marginTop: -2,
                            marginRight: 8
                        },
                        src: window.download_albums_for_facebook_icon,
                        size: 24,
                        shape: "square"
                    }), "Download This Album"))
                }
                function pe(e) {
                    const t = window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD")
                      , i = window.zKjQYvgSmF("fepNlsbEufnpD").getDarkModeSetting() === "ENABLED";
                    return n.createElement(t, {
                        fallback: io
                    }, n.createElement(p.ConfigProvider, {
                        theme: {
                            algorithm: i ? p.theme.darkAlgorithm : p.theme.defaultAlgorithm,
                            token: {
                                motion: !1
                            }
                        }
                    }, n.createElement(gt, null, n.createElement(ft, null, n.createElement(pt, null, n.createElement(Te.Provider, {
                        value: e
                    }, n.createElement(ji, null, n.createElement(bt, null, n.createElement(to, null)))))))))
                }
                function io(e) {
                    return console.error(e),
                    n.createElement(wt, null)
                }
                function oo() {
                    const {collectionToken: e, currentPhotoId: t} = n.useContext(Ce)
                      , {isStopManually: i, downloadCountRef: o, isOnLimit: a, setIsFetchingNextPageRef: r, appendPhotos: s} = n.useContext(z)
                      , {fetchLimit: l} = n.useContext(K)
                      , {AvoidAccountRestrict: u} = Dt()
                      , {findValueFromLoadQueryData: c, loadQuery: d} = lt()
                      , {download: f} = kt(!0)
                      , {requestDelay: g} = Ft();
                    n.useEffect(()=>{
                        if (!e)
                            throw new Error("found collectionToken as undefined!")
                    }
                    , []);
                    function h(x) {
                        return i.current ? Promise.resolve() : o.current >= l ? (a.current = !0,
                        Promise.resolve()) : x === t ? Promise.resolve() : new Promise(async(m,v)=>{
                            await u(),
                            await g(),
                            r(!0),
                            d("CometPhotoRootContentQuery", Tt(e, x || t)).then(async y=>{
                                if (r(!1),
                                !y[0])
                                    throw new Error(`API request error 143 photoId:${t}`);
                                const b = M.get(y[0], "data.currMedia.owner.id")
                                  , E = c(y, "data.owner.name");
                                let D = window.zKjqYvcSmF(b, "name") ?? E ?? "unknown";
                                const _ = M.get(y[0], "data.currMedia.image.uri");
                                if (s([{
                                    id: M.get(y[0], "data.currMedia.id", ""),
                                    userId: b,
                                    thumbnail: _,
                                    uri: "",
                                    folderName: "",
                                    userName: "",
                                    createdAt: 0,
                                    status: "waiting"
                                }]),
                                i.current || (await f({
                                    id: M.get(y[0], "data.currMedia.id", ""),
                                    userId: b,
                                    thumbnail: _,
                                    uri: _,
                                    folderName: ie(D),
                                    userName: ie(D),
                                    createdAt: M.get(y[0], "data.currMedia.created_time", 0),
                                    status: "waiting"
                                }),
                                i.current))
                                    return;
                                const C = M.get(y[0], "data.mediaset.nextMedia.edges[0].node.id") ?? c(y, "data.nextMediaAfterNodeId.id");
                                C ? m(await h(C)) : m()
                            }
                            ).catch(y=>{
                                console.log(y),
                                v(y)
                            }
                            )
                        }
                        )
                    }
                    return {
                        startFetchAndDownload: h
                    }
                }
                function no() {
                    const {resetStatus: e, setOpen: t, step: i, isStopManually: o, updateUI: a, setStep: r, isOnLimit: s} = n.useContext(z)
                      , {isSkipDownloadedFile: l, saveMemoSettings: u} = n.useContext(K)
                      , {modalApi: c} = n.useContext(ae)
                      , {startFetchAndDownload: d} = oo();
                    function f() {
                        u(),
                        je(),
                        q().send("consumeFeatureTreeTry", [j.CAROUSEL_DOWNLOADER]),
                        q().send("consumeFeaturesTreeTryByMemoUIConfigs", {
                            isSkipDownloadedFile: l
                        }),
                        o.current = !1,
                        r(O.DOWNLOADING),
                        d().then(()=>{
                            if (s.current)
                                return a(!0);
                            r(O.DONE)
                        }
                        ).catch(g=>{
                            console.error(g),
                            o.current = !0,
                            st(c, g)
                        }
                        )
                    }
                    return n.createElement(p.Row, {
                        style: {
                            width: "100%"
                        },
                        justify: "space-between",
                        align: "middle"
                    }, n.createElement(p.Space, {
                        size: 8
                    }, n.createElement(xt, null), n.createElement(Et, null)), n.createElement(p.Space, {
                        size: 24
                    }, i === O.START && n.createElement(n.Fragment, null, n.createElement(p.Button, {
                        type: "text",
                        onClick: ()=>t(!1)
                    }, "Close"), n.createElement(_t, {
                        onClick: ()=>f()
                    })), i === O.DOWNLOADING && n.createElement(n.Fragment, null, n.createElement(p.Button, {
                        type: "primary",
                        danger: !0,
                        onClick: ()=>{
                            o.current = !0,
                            r(O.DONE)
                        }
                    }, "Stop")), i === O.DONE && n.createElement(n.Fragment, null, n.createElement(p.Button, {
                        type: "text",
                        onClick: ()=>t(!1)
                    }, "Close"), n.createElement(p.Button, {
                        onClick: ()=>e()
                    }, "ReDownload"))))
                }
                const St = window.zKjQYvgSmF("pjubSmfyjQcfX").get();
                function ao() {
                    const {open: e, setOpen: t, step: i} = n.useContext(z)
                      , {checkIfCanUseWithModal: o} = n.useContext(K)
                      , [a,r] = n.useState(!window.download_albums_for_facebook[j.CAROUSEL_DOWNLOADER].needUpgrade)
                      , {currentPhotoId: s} = n.useContext(Ce)
                      , l = n.useMemo(()=>window.zKjQYvgSmF("sftVuofssvD").getAccountID() !== "0", []);
                    async function u() {
                        console.log(s, "^image{$1}.uri", {
                            $1: {
                                context: "comet_media_viewer",
                                height: 1e6,
                                scale: St,
                                width: 1e6
                            }
                        });
                        const d = window.zKjqYvcSmF(s, "^image{$1}.uri", {
                            $1: {
                                context: "comet_media_viewer",
                                height: 1e6,
                                scale: St,
                                width: 1e6
                            }
                        });
                        if (!d)
                            return;
                        let f = await (await fetch(d)).blob();
                        Ki(f, s + "." + Ct(d))
                    }
                    async function c() {
                        await o(j.CAROUSEL_DOWNLOADER, void 0, "photos") && r(!0)
                    }
                    return n.createElement(n.Fragment, null, n.createElement(p.Modal, {
                        open: e,
                        onCancel: ()=>t(!1),
                        width: 840,
                        title: n.createElement(yt, null),
                        footer: null,
                        bodyStyle: {
                            height: 460,
                            color: "var(--secondary-text)"
                        }
                    }, n.createElement("div", {
                        style: {
                            height: "100%",
                            width: "100%",
                            display: "flex",
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, a ? n.createElement(n.Fragment, null, n.createElement(p.Space, {
                        direction: "vertical",
                        size: 12,
                        style: {
                            width: "100%"
                        }
                    }, i === O.START && n.createElement(n.Fragment, null, n.createElement(mt, null), n.createElement(p.Alert, {
                        showIcon: !0,
                        message: n.createElement(n.Fragment, null, n.createElement("p", null, "Start downloading from the first photo to get all the photos in the entire album set for the photo viewer. The extension only downloads subsequent photos, excluding the previous ones.")),
                        type: "warning"
                    })), i === O.DOWNLOADING && n.createElement(n.Fragment, null, n.createElement(It, null)), i === O.DONE && n.createElement(n.Fragment, null, n.createElement(vt, null), n.createElement(Qe, {
                        extsProjectIdArr: ["download-albums-for-instagram", "export-posts-for-facebook"],
                        perRow: 2
                    }))), n.createElement(no, null)) : n.createElement(p.Alert, {
                        type: "warning",
                        message: n.createElement("div", null, "This feature is customized for professional users. Please upgrade to use it.", n.createElement(p.Button, {
                            size: "small",
                            type: "primary",
                            style: {
                                marginLeft: 8
                            },
                            onClick: ()=>q().send("visitPricing")
                        }, "Upgrade Now!"), n.createElement(p.Button, {
                            size: "small",
                            style: {
                                marginLeft: 12
                            },
                            onClick: c
                        }, "FREE try"))
                    }))), n.createElement("div", {
                        style: {
                            position: "absolute",
                            left: 8,
                            bottom: l ? 34 : 180,
                            zIndex: 9999
                        }
                    }, n.createElement(p.Space, {
                        direction: "vertical",
                        size: 8
                    }, n.createElement(p.Tooltip, {
                        title: "Download Current Photo",
                        placement: "right"
                    }, n.createElement(p.Button, {
                        onClick: u,
                        type: "text",
                        shape: "circle",
                        icon: n.createElement(J.DownloadOutlined, null)
                    })), n.createElement(p.Tooltip, {
                        title: "Download this Carousel",
                        placement: "right"
                    }, n.createElement(p.Button, {
                        onClick: ()=>t(!0),
                        type: "text",
                        shape: "circle"
                    }, n.createElement(p.Avatar, {
                        src: window.download_albums_for_facebook_icon,
                        size: 24,
                        shape: "square"
                    }))))))
                }
                function ro(e) {
                    const t = window.zKjQYvgSmF("udbfs/zsbeovpCspssFufnpD")
                      , i = window.zKjQYvgSmF("fepNlsbEufnpD").getDarkModeSetting() === "ENABLED";
                    return n.createElement(t, {
                        fallback: so
                    }, n.createElement(p.ConfigProvider, {
                        theme: {
                            algorithm: i ? p.theme.darkAlgorithm : p.theme.defaultAlgorithm,
                            token: {
                                motion: !1
                            }
                        }
                    }, n.createElement(gt, null, n.createElement(ft, null, n.createElement(pt, null, n.createElement(Ce.Provider, {
                        value: e
                    }, n.createElement(bt, null, n.createElement(ao, null))))))))
                }
                function so(e) {
                    return console.error(e),
                    n.createElement(wt, null)
                }
                const uo = "";
                window.download_albums_for_facebook_icon = window[te].extensionFolderUri + window[te].icons[128],
                window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/fhbmmpDpupiQnvcmBufnpD", e=>{
                    var o, a, r, s;
                    const t = window.zKjqYvcSmF(((a = (o = e == null ? void 0 : e.payload) == null ? void 0 : o.album) == null ? void 0 : a.__id) ?? "", "reference_token")
                      , i = window.zKjqYvcSmF(((s = (r = e == null ? void 0 : e.payload) == null ? void 0 : r.album) == null ? void 0 : s.__id) ?? "", "^owner.name") ?? "";
                    return [n.createElement(pe, {
                        collectionToken: t,
                        graphQLName: "CometAlbumPhotoCollagePaginationQuery",
                        paths: {
                            edgesPath: "data.node.media.edges",
                            idPath: "node.id",
                            thumbnailUriPath: "node.image.uri",
                            nodeTypePath: "node.__typename",
                            viewerLinkPath: l=>`https://www.facebook.com/photo/?fbid=${l.node.id}&set=${t}`,
                            pageInfoPath: "data.node.media.page_info"
                        },
                        folderName: i,
                        requestExtraPayload: {
                            count: 14,
                            id: t.split(".").pop(),
                            renderLocation: "permalink"
                        }
                    }), e.lastCmp]
                }
                ),
                window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/sfsfeofStpupiQopjudfmmpDqqBufnpDfmjgpsQ", e=>{
                    var a, r, s, l;
                    let t = (r = (a = e.payload) == null ? void 0 : a.variables) == null ? void 0 : r.collectionToken;
                    const i = window.zKjqYvcSmF(((l = (s = e.payload) == null ? void 0 : s.variables) == null ? void 0 : l.userID) ?? "", "name") ?? "";
                    if (!t)
                        try {
                            t = e.payload.styleRenderer.__id.match(/client:(.*?):style_renderer/)[1]
                        } catch {}
                    return ["videos_by", "videos_of"].includes(window.zKjqYvcSmF(t, "tab_key")) ? e.lastCmp : [n.createElement(pe, {
                        collectionToken: t,
                        graphQLName: "ProfileCometAppCollectionPhotosRendererPaginationQuery",
                        paths: {
                            edgesPath: "data.node.pageItems.edges",
                            idPath: "node.node.id",
                            nodeTypePath: "node.node.__typename",
                            thumbnailUriPath: "node.image.uri",
                            viewerLinkPath: "node.url",
                            pageInfoPath: "data.node.pageItems.page_info"
                        },
                        folderName: i
                    }), e.lastCmp]
                }
                ),
                window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/xfjWejsHnvcmBzdbhfMufnpDfmjgpsQ", e=>{
                    var o, a, r, s;
                    const t = window.zKjqYvcSmF(((a = (o = e == null ? void 0 : e.payload) == null ? void 0 : o.mediaset) == null ? void 0 : a.__id) ?? "", "reference_token")
                      , i = window.zKjqYvcSmF(((s = (r = e == null ? void 0 : e.payload) == null ? void 0 : r.mediaset) == null ? void 0 : s.__id) ?? "", "^owner.name") ?? "";
                    return [n.createElement(pe, {
                        collectionToken: t,
                        graphQLName: "ProfileCometLegacyAlbumGridViewPaginationQuery",
                        paths: {
                            edgesPath: "data.node.grid_media.edges",
                            idPath: "node.id",
                            nodeTypePath: "node.__typename",
                            thumbnailUriPath: "node.image.uri",
                            viewerLinkPath: l=>`https://www.facebook.com/photo/?fbid=${l.node.id}&set=${t}`,
                            pageInfoPath: "data.node.grid_media.page_info"
                        },
                        folderName: i,
                        requestExtraPayload: {
                            count: 14,
                            id: t.split(".").pop()
                        }
                    }), e.lastCmp]
                }
                ),
                window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/ejsHcbUtpupiQbjefNufnpDtqvpsH", e=>{
                    const t = e.payload.group$key.__id
                      , i = t
                      , o = window.zKjqYvcSmF(t, "name");
                    return [n.createElement(pe, {
                        collectionToken: i,
                        graphQLName: "GroupsCometMediaPhotosTabGridQuery",
                        paths: {
                            edgesPath: "data.node.group_mediaset.media.edges",
                            idPath: "node.id",
                            nodeTypePath: "node.__typename",
                            thumbnailUriPath: "node.image.uri",
                            viewerLinkPath: a=>`https://www.facebook.com/photo/?fbid=${a.node.id}&set=${"g." + i}`,
                            pageInfoPath: "data.node.group_mediaset.media.page_info"
                        },
                        folderName: o,
                        requestExtraPayload: {
                            count: 8,
                            id: i.split(".").pop()
                        }
                    }), e.lastCmp]
                }
                ),
                window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/opjudfTtpupiQmmBxfjWojbNcbUtpupiQufnpDtfhbQ", e=>{
                    const t = window.zKjqYvcSmF(e.payload.page.__id, "name") ?? "";
                    return [n.createElement(pe, {
                        collectionToken: e.payload.page.__id,
                        graphQLName: "PagesCometPhotosTabMainViewAllPhotosSectionPaginationQuery",
                        paths: {
                            edgesPath: "data.node.allPhotos.edges",
                            idPath: "node.id",
                            nodeTypePath: "node.__typename",
                            thumbnailUriPath: "node.image.uri",
                            viewerLinkPath: i=>{
                                var o;
                                return `https://www.facebook.com/SteveHarvey/photos/${(o = i == null ? void 0 : i.node) == null ? void 0 : o.id}`
                            }
                            ,
                            pageInfoPath: "data.node.allPhotos.page_info"
                        },
                        folderName: t,
                        requestExtraPayload: {
                            count: 10
                        }
                    }), e.lastCmp]
                }
                ),
                window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/uofuopDuppSpupiQufnpD", e=>{
                    const t = e.payload.mediasetToken
                      , i = e.payload.photoID;
                    return !t || !i ? e.lastCmp : [n.createElement(ro, {
                        collectionToken: t,
                        currentPhotoId: i
                    }), e.lastCmp]
                }
                )
            }
            )(Z, window.download_albums_for_facebook_vendors._.antd, Pt, window.download_albums_for_facebook_vendors._["lodash-es"], window.download_albums_for_facebook_vendors._.dayjs, window.download_albums_for_facebook_vendors._["@ant-design/icons"])
        } else
            console.error(`${U} Not Found`)
    }
    function Ot() {
        return Object.keys(window.require("__debug").modulesMap).filter(U=>U.indexOf("ReactDOM") === 0).find(U=>{
            const Z = window.require("__debug").modulesMap[U];
            return !!(Z.exports && Z.exports.version && Z.depPosition > 3 && U.includes("classic"))
        }
        )
    }
    function Bt() {
        function U(...Z) {
            return window.require("react").jsx(...Z)
        }
        return {
            Fragment: Symbol.for("react.fragment"),
            jsx: U,
            jsxs: U,
            jsxDEV: U
        }
    }
}
)();
